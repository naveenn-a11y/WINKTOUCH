["function _92f52cadce8bee5bfed6ee4a7d111d57379f2a89",50,566,"evice){Ext.device={}}if(!Ext.device.camera){Ext.device.camera={}}if(!Ext.device.communicator){Ext.device.communicator={}}if(!Ext.device.device){Ext.device.device",603,27142,"console.log(\"JSON encode Date.\");",27745,55,"console.log(\"JSON encode String...\");if(Ext.isMSDate(o)){console.log(\"JSON encode String...as MSDate\");",27820,481595,"device.communicator.Default\",Ext.Base,{SERVER_URL:\"http://localhost:3000\",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:\"0\",generateId:function(){return String(++this.idSeed)},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId()}return b},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId}else{if(d.isIdentifiable){a=d.getId()}else{a=this.getId(d)}}f=this.getId(h);if(!c[a]){c[a]={}}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e}return c[a][f]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a)},send:function(c){var e,d,b,f;if(!c){c={}}else{if(c.callbacks){e=c.callbacks;d=c.scope;delete c.callbacks;delete c.scope;for(b in e){if(e.hasOwnProperty(b)){f=e[b];if(typeof f==\"function\"){c[b]=this.getCallbackId(f,d)}}}}}c.__source=document.location.href;var a=this.doSend(c);return(a&&a.length>0)?JSON.parse(a):null},doSend:function(a){var c=new XMLHttpRequest();c.open(\"GET\",this.SERVER_URL+\"?\"+Ext.Object.toQueryString(a)+\"&_dc=\"+new Date().getTime(),false);try{c.send(null);return c.responseText}catch(b){if(a.failure){this.invoke(a.failure)}else{if(a.callback){this.invoke(a.callback)}}}}},0,0,0,0,0,0,[Ext.device.communicator",197408,37,"device.communicator.Android\",Ext.device.communicator.Default,{doSend:function(a){return window.Sencha.action(JSON.stringify(a))}},0,0,0,0,0,0,[Ext.device.communicator,\"Android\"],0));(Ext.cmd.derive(\"Ext.device.Communicator\",Ext.Base,{",129998,38,"if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}},1,0,0,0,0,0,[Ext.device,\"Commun",257397,34,"device.camera.Abstract\",Ext.Base,{source:{library:0,camera:1,album:2},destination:{data:0,file:1,\"native\":2},encoding:{jpeg:0,jpg:0,png:1},media:{picture:0,video:1,all:2},direction:{back:0,front:1},capture:Ext.emptyFn,getPicture:Ext.emptyFn,cleanup:Ext.emptyFn},0,0,0,0,0,0,[Ext.device.camera",528686,38,"device.camera.Cordova\",Ext.device.camera",203488,35,"device.camera.PhoneGap\",getPicture:function(d,b,a){try{navigator.camera.getPicture(d,b,a)}catch(c){alert(c)}},cleanup:function(c,a){try{navigator.camera.cleanup(c,a)}catch(b){alert(b)}},capture:function(h){var f=h.success,d=h.failure,j=h.scope,b=this.source,e=this.destination,g=this.encoding,a=h.source,i=h.destination,c=h.encoding,k={};if(j){f=Ext.Function.bind(f,j);d=Ext.Function.bind(d,j)}if(a!==undefined){k.sourceType=b.hasOwnProperty(a)?b[a]:a}if(i!==undefined){k.destinationType=e.hasOwnProperty(i)?e[i]:i}if(c!==undefined){k.encodingType=g.hasOwnProperty(c)?g[c]:c}if(\"quality\" in h){k.quality=h.quality}if(\"width\" in h){k.targetWidth=h.width}if(\"height\" in h){k.targetHeight=h.height}this.getPicture(f,d,k)}},0,0,0,0,0,0,[Ext.device.camera,\"Cordova\",Ext.device.camera,\"PhoneGap\"],0));(Ext.cmd.derive(\"Ext.device.camera.Sencha\",Ext.device.camera.Abstract,{capture:function(d){var c=this.source,b=this.destination,f=this.encoding,g=d.source,a=d.destination,e=d.encoding;if(c.hasOwnProperty(g)){g=c[g]}if(b.hasOwnProperty(a)){a=b[a]}if(f.hasOwnProperty(e)){e=f[e]}Ext.device.Communicator.send({command:\"Camera#capture\",callbacks:{success:d.success,failure:d.failure},scope:d.scope,quality:d.quality,width:d.width,height:d.height,source:g,destination:a,encoding:e})}},0,0,0,0,0,0,[Ext.device.camera,\"Sencha\"],0));(Ext.cmd.derive(\"Ext.device.camera.Simulator\",Ext.device.camera.Abstract,{config:{samples:[{success:\"http://www.sencha.com/img/sencha-large.png\"}]",190096,32,"nitConfig(a)},updateSamples:function(a){this.sampleIndex=0},capture:function(d){var c=this.sampleIndex,b=this.getSamples(),g=b.length,f=b[c],e=d.scope,h=d.success,a=d.failure;if(\"success\" in f){if(h){h.call(e,f.success)}}else{if(a){a.call(e,f.failure)}}if(++c>g-1){c=0}this.sampleIndex=c}},1,0,0,0,0,0,[Ext.device.camera,\"Simul",257399,32,"device.Camera\",Ext.Base,{",129998,44,"Ext.browser.is;if(a.WebView){if(a.Cordova){return Ext.create(\"Ext.device.camera.Cordova\")}else{if(a.Sencha){return Ext.create(\"Ext.device.camera.Sencha\")}}}return Ext.create(\"Ext.device.camera.Simulator\")}},1,0,0,0,0,0,[Ext.device,\"Camera\"],0));(Ext.cmd.derive(\"Ext.device.device.Abstract\",Ext.Base,{name:\"not available\",uuid:\"anonymous\",platform:Ext.os.name,scheme:false,openURL:function(a){window.location=a}},0",167616,111,"device.device",528686,38,"device.device.Cordova\",Ext.device.device",203488,35,"device.device.PhoneGap\",availableListeners:[\"pause\",\"resume\",\"backbutton\",\"batterycritical\",\"batterylow\",\"batterystatus\",\"menubutton\",\"searchbutton\",\"startcallbutton\",\"endcallbutton\",\"volumeupbutton\",\"volumedownbutton\"],constructor:function(){if(Ext.isReady){this.onReady()}else{Ext.onReady(",622518,32,"}},onReady:function(){var b=this,a=window.device;b.name=a.name||a.model;b.cordova=a.cordova;b.platform=a.platform||Ext.os.name;b.uuid=a.uuid;b.version=a.version;b.model=a.model},doAddListener:function(a){if(!this.addedListeners){this.addedListeners=[]}if(this.availableListeners.indexOf(a)!=-1&&this.addedListeners.indexOf(a)==-1){this.addedListeners.push(a);document.addEventListener(a,function(){me.fireEvent(a,me)})}Ext.device.Device.mixins.observable.doAddListener.apply(Ext.device.Device.mixins.observable,arguments)}},1,0,0,0,0,0,[Ext.device.device,\"Cordova\",Ext.device.device,\"PhoneGap\"],0));(Ext.cmd.derive(\"Ext.device.device.Sencha\",Ext.device.device",530259,32,"){Ext.device.device",529579,53,";this.name=device.name;this.uuid=device.uuid;this.platform=device.platformName||Ext.os.name;this.scheme=Ext.device.Communicator.send({command:\"OpenURL#getScheme\",sync:true})||false;Ext.device.Communicator.send({command:\"OpenURL#watch\",callbacks:{callback:function(a){this.scheme=a||false;this.fireEvent(\"schemeupdate\",this,this.scheme)}},scope:this})},openURL:function(a){Ext.device.Communicator.send({command:\"OpenURL#open\",url:a})}},1,0,0,0,0,0,[Ext.device.device,\"Sencha\"],0));(Ext.cmd.derive(\"Ext.device.device.Simulator\",Ext.device.device.Abstract,{},0,0,0,0,0,0,[Ext.device.device,\"Simul",257399,32,"device.Devic",246512,55,"a=Ext.browser.is;if(a.WebView){if(a.Cordova){return Ext.create(\"Ext.device.device.Cordova\")}else{if(a.Sencha){return Ext.create(\"Ext.device.device.Sencha\")}}}return Ext.create(\"Ext.device.device.Simulator\")}},1,0,0,0,0,0,[Ext.device,\"Devic",547839,35,"Ev",83648,40,509463,135438,"Utilities\",Ext.Base,{statics:{isKeyNull:function(a){if(a.get(\"id\")===0){return true}if(typeof a.get(\"id\")===\"string\"){if(a.get(\"id\").startsWith(\"ext-record\")){return true}}return false},getURLParameter2:function(c,b){var a=c.indexOf(\"?\");c=c.substring(a);return decodeURIComponent((new RegExp(\"[?|&]\"+b+\"=([^&;]+?)(&|#|;|$)\").exec(c)||[\"\"])[1].replace(/\\+/g,\"%20\"))||null},getURLParameter:function(a){return decodeURIComponent((new RegExp(\"[?|&]\"+a+\"=([^&;]+?)(&|#|;|$)\").exec(location.search)||[\"\"])[1].replace(/\\+/g,\"%20\"))||null},setDefaultValues:function(a){if(a instanceof WINK.model.PatientInvoice){a.set(\"orderdate\",new Date());a.set(\"store_idstore\",WINK.Utilities.currentstore.get(\"id\"))}else{if(a instanceof WINK.model.PatientPayment){a.set(\"date\",new Date());a.set(\"store_idstore\",WINK.Utilities.currentstore.get(\"id\"));a.set(\"user_iduser\",WINK.Utilities.currentuser.get(\"id\"))}else{if(a instanceof WINK.model.RxWorksheet){a.set(\"createdon\",new Date());a.set(\"scriptreceivedon\",null);a.set(\"createby_iduser\",WINK.Utilities.currentuser.get(\"id\"))}}}},loginSuccess:function(a){WINK.Utilities.currentstore=Ext.create(\"WINK.model.Store\");WINK.Utilities.currentuser=Ext.create(\"WINK.model.User\");console.log(\"Set logged In User:\"+a.responseText);var b=Ext.JSON.decode(a.responseText);WINK.Utilities.currentuser.set(b.user);WINK.Utilities.currentstore.set(b.store);console.log(\"Set logged In User:\"+WINK.Utilities.currentuser.get(\"lastname\")+\" @ \"+WINK.Utilities.currentstore.get(\"name\"))},hasPhonegap:function(){return true},getDeviceID:function(){if(!WINK.Utilities.hasPhonegap()){return null}return Ext.device.Device.uuid},showPleaseAuthorize:function(a){alert(\"Please Authorize \"+WINK.Utilities.getDeviceID()+\" Using WINK Desktop\");WINK.Utilities.getAccountId(a)},loadAllRequiredStores:function(a){console.log(\"Utilities.loadAllRequiredStores()\");if(!WINK.Utilities.currentstore){console.log(\"Utilities.loadAllRequiredStores() ajax /users/me\");Ext.Ajax.request({scope:this",667248,34,"users/me\",method:\"GET\",withCredentials:true,useDefaultXhrHeader:false,success:function(b){WINK.Utilities.loginSuccess(b);WINK.Utilities.loadAllRequiredStores(a)},failure:function(b){",697478,76,";document.location.href=\"#login\"},callback:function(c,d,b){}});return}if(!this.storesLoaded){console.log(\"Utilities.loadAllRequiredStores() loading stores\");",721886,49,691686,34,"autoLoad:true,",686080,52,691772,53,",withCredentials:true,useDefaultXhrHeader:false}});Ext.create(\"WINK.store.TaxCodeStore\",{storeId:\"TaxCodeStore\",autoLoad:true});Ext.create(\"WINK.store.PaymentMethodStore\",{storeId:\"PaymentMethodForCurrentStore\",autoLoad:true,params:{store_idstore:WINK.Utilities.currentstore.get(\"id\")}});this.storesLoaded=true}console.log(\"Utilities.loadAllRequiredStores() done!\");if(a){a()}},getAccountId:function(b){if(!WINK.Utilities.accountid){var a=WINK.Utilities.getDeviceID();console.log(\"deviceid:\"+a);if(a){Ext.Ajax.request({scope:this,url:\"https://server1.downloadwink.com/wink-ecomm/WinkTabletUUID\",method:\"POST\",async:false,params:{uuid:a},success:function(c){console.log(\"getAccountId success\");console.log(\"response:\"+c.responseText);c.responseText=c.responseText.trim();if(c.responseText.toLowerCase().startsWith(\"http\")){WINK.Utilities.accountid=WINK.Utilities.getURLParameter2(c.responseText.trim(),\"accountid\");if(WINK.Utilities.accountid){WINK.Utilities.accountid=WINK.Utilities.accountid.trim()}console.log(\"got account id from ajax request:\"+WINK.Utilities.accountid);if(b){b(WINK.Utilities.accountid)}}else{console.log(\" calling WINK.Utilities.showPleaseAuthorize\");WINK.Utilities.showPleaseAuthorize(b)}},failure:function(c){console.log(\"getAccountId failure, calling WINK.Utilities.showPleaseAuthorize\");WINK.Utilities.showPleaseAuthorize(b)},callback:function(d,e,c){}});return -1}else{WINK.Utilities.accountid=WINK.Utilities.getURLParameter(\"accountid\");if(WINK.Utilities.accountid){WINK.Utilities.accountid=WINK.Utilities.accountid.trim()}}if(!WINK.Utilities.accountid){WINK.Utilities.accountid=37}}if(b){b(WINK.Utilities.accountid)}return WINK.Utilities.accountid},getRestURL:function(){return\"https://server1.downloadwink.com",726044,1093,650650,127,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",650823,824,"null",651648,115,"null",645967,61,"extuse",671840,37,"],belongsTo:[],hasMany:[",685920,37,651905,145,"JobStatusWrapper",649817,41,"date\",type:\"date\",dateFormat:\"time\"},{name:\"statusid\",type:\"int\"},{name:\"status\",type:\"string",681774,32,"},{name:\"user\",type:\"string\"},{name:\"jobstatus_idjobstatus\",type:\"int\"},{name:\"reference\",type:\"string\"}],belongsTo:[{model:\"WINK.model.JobStatus\",associatedName:\"fkjobstatus_idjobstatus\",foreignKey:\"jobstatus_idjobstatus\",primaryKey:\"id\",getterName:\"getFkjobstatus_idjobstatus\",setterName:\"setFkjobstatus_idjobstatus\"}],hasMany:[",651977,38,"Wrapper",663376,36,668620,93,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",677326,53,667390,51,668863,1404,"null",670268,1278,"null",671547,66,"null",671614,478,"null",672093,957,"belongsTo:[{model:\"WINK.model.ProductCategory\",associatedName:\"fk",670208,35,"foreignKey",670206,37,"primaryKey:\"id\",getterName:\"getFk",670208,35,"setterName:\"setFk",670208,34,"},{model:\"WINK.model.Supplier\",associatedName:\"fkpreferredsupplier_idsupplier\",foreignKey",671490,32,"primaryKey:\"id\",getterName:\"getFkpreferredsupplier_idsupplier\",setterName:\"setFkpreferredsupplier_idsupplier\"},{model:\"WINK.model.Supplier\",associatedName:\"fk",671556,33,"foreignKey",671554,35,"primaryKey:\"id\",getterName:\"getFk",671556,33,"setterName:\"setFk",671556,32,"},{model:\"WINK.model.Upload\",associatedName:\"fkimageuploads_iduploads\",foreignKey:\"imageuploads_iduploads\",primaryKey:\"id\",getterName:\"getFkimageuploads_iduploads\",setterName:\"setFkimageuploads_iduploads\"}],hasMany:[{model:",661089,32,"name:\"patientinvoiceitems_product_idproduct\",foreignKey:\"product_idproduct\",associationKey:\"patientinvoiceitems_product_idproduct\",primaryKey:\"id\"},{model:\"WINK.model.Barcode\",name:\"barcodes_product_idproduct\",foreignKey:\"product_idproduct\",associationKey:\"barcodes_product_idproduct\",primaryKey:\"id\"},{model:",676193,33,"name:\"productretaildetails_product_idproduct\",foreignKey:\"product_idproduct\",associationKey:\"productretaildetails_product_idproduct\",primaryKey:\"id\"},{model:",676193,33,"name:\"productretaildetails_lenstreatment_idlenstreatment\",foreignKey",676811,33,"associationKey:\"productretaildetails_lenstreatment_idlenstreatment\",primaryKey:\"id\"},{model:",676193,33,"name:\"productretaildetails_lensmaterial_idlensmaterial\",foreignKey:\"lensmaterial_idlensmaterial\",associationKey:\"productretaildetails_lensmaterial_idlensmaterial\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_frame_idproduct\",foreignKey:\"frame_idproduct\",associationKey:\"rxworksheets_frame_idproduct\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_lens_idproduct\",foreignKey:\"lens_idproduct\",associationKey:\"rxworksheets_lens_idproduct\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_lensmaterial_idlensmaterial\",foreignKey:\"lensmaterial_idlensmaterial\",associationKey:\"rxworksheets_lensmaterial_idlensmaterial\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_lenstreatment_idlenstreatment\",foreignKey",676811,33,"associationKey:\"rxworksheets_lenstreatment_idlenstreatment\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheetTreatment\",name:\"rxworksheettreatments_product_idproduct\",foreignKey:\"product_idproduct\",associationKey:\"rxworksheettreatments_product_idproduct\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_rcl_idproduct\",foreignKey:\"rcl_idproduct\",associationKey:\"clworksheets_rcl_idproduct\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_lcl_idproduct\",foreignKey:\"lcl_idproduct\",associationKey:\"clworksheets_lcl_idproduct\",primaryKey:\"id\"",685919,38,673085,1747,648108,94,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",661565,52,"null",648301,60,"null",648362,56,"null",648419,136,"null",648556,85,"null",648642,83,"null",648726,83,"null",648810,83,"null",648894,83,"null",648978,211,"null",649190,157,"null",649348,54,"belongsTo:[{model:\"WINK.model.Product\",associatedName:\"fkproduct_idproduct\",foreignKey:\"product_idproduct\",primaryKey:\"id\",getterName:\"getFkproduct_idproduct\",setterName:\"setFkproduct_idproduct\"},{model:",661089,32,"associatedName:\"fk",648651,50,"foreignKey",648649,52,"primaryKey:\"id\",getterName:\"getFk",648651,50,"setterName:\"setFk",648651,49,"},{model:",661089,32,"associatedName:\"fk",648735,50,"foreignKey",648733,52,"primaryKey:\"id\",getterName:\"getFk",648735,50,"setterName:\"setFk",648735,49,"},{model:\"WINK.model.User\",associatedName:\"fkdisabledbyuser_iduser\",foreignKey:\"disabledbyuser_iduser\",primaryKey:\"id\",getterName:\"getFkdisabledbyuser_iduser\",setterName:\"setFkdisabledbyuser_iduser\"}],hasMany:[{model:",661089,32,"name:\"patientinvoiceitems_barcode_idbarcode\",foreignKey:\"barcode_idbarcode\",associationKey:\"patientinvoiceitems_barcode_idbarcode\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_framebarcode_idbarcode\",foreignKey:\"framebarcode_idbarcode\",associationKey:\"rxworksheets_framebarcode_idbarcode\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_rbarcode_idbarcode\",foreignKey:\"rbarcode_idbarcode\",associationKey:\"clworksheets_rbarcode_idbarcode\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_lbarcode_idbarcode\",foreignKey:\"lbarcode_idbarcode\",associationKey:\"clworksheets_lbarcode_idbarcode\",primaryKey:\"id\"",677040,45,"Barcode",650032,35,"BarcodeResponse",649817,41,676378,58,"Invent",670238,39,"entrepriseInvent",670238,39,"isInventory",645984,44,661971,45,"],belongsTo:[{model:\"WINK.model.Product\",associatedName:\"fkproduct_idproduct\",foreignKey:\"product_idproduct\",primaryKey:\"id\",getterName:\"getFkproduct_idproduct\",setterName:\"setFkproduct_idproduct\"},{model:\"WINK.model.Barcode\",associatedName:\"fkbarcode_idbarcode\",foreignKey:\"barcode_idbarcode\",primaryKey:\"id\",getterName:\"getFkbarcode_idbarcode\",setterName:\"setFkbarcode_idbarcode\"}",649415,36,"Response",650032,35,644907,116,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",645069,139,"belongsTo:[],hasMany:[",685920,37,645243,250,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",645539,272,"null",645812,51,"null",663819,52,"null",645917,172,"null",646090,77,"null",646168,864,"null",647033,59,"belongsTo:[{model:\"WINK.model.Store\",associatedName:\"fkstore_idstore\",foreignKey:\"store_idstore\",primaryKey:\"id\",getterName:\"getFkstore_idstore\",setterName:\"setFkstore_idstore\"},{model:\"WINK.model.User\",associatedName:\"fkdoctor_idpatient\",foreignKey:\"doctor_idpatient\",primaryKey:\"id\",getterName:\"getFkdoctor_idpatient\",setterName:\"setFkdoctor_idpatient\"},{model:\"WINK.model.Patient\",associatedName:\"fkpatient_id",663277,55,",getterName:\"getFkpatient_idpatient\",setterName:\"setFkpatient_idpatient\"},{model:\"WINK.model.AppointmentType\",associatedName:\"fk",646028,37,"foreignKey",646026,39,"primaryKey:\"id\",getterName:\"getFk",646028,37,"setterName:\"setFk",646028,36,"},{model:\"WINK.model.AppointmentType\",associatedName:\"fkinitial",646028,37,"foreignKey:\"initial",646028,37,"primaryKey:\"id\",getterName:\"getFkinitial",646028,37,"setterName:\"setFkinitial",646028,36,"},{model:\"WINK.model.Appointment\",associatedName:\"fkappointments_idappointments\",foreignKey:\"appointments_idappointments\",primaryKey:\"id\",getterName:\"getFkappointments_idappointments\",setterName:\"setFkappointments_idappointments\"}],hasMany:[{model:\"WINK.model.Appointment\",name:\"appointments_appointments_idappointments\",foreignKey:\"appointments_idappointments\",associationKey:\"appointments_appointments_idappointments\",primaryKey:\"id\"",685919,38,647127,214,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",677326,53,647440,398,670431,53,"],belongsTo:[],hasMany:[{model:\"WINK.model.Appointment\",name:\"appointments_",646028,37,"foreignKey",646026,39,"associationKey:\"appointments_",646028,37,"primaryKey:\"id\"},{model:\"WINK.model.Appointment\",name:\"appointments_initial",646028,37,"foreignKey:\"initial",646028,37,"associationKey:\"appointments_initial",646028,37,"primaryKey:\"id\"",685919,38,688544,42,680544,112,648029,79,649486,95,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",677326,45,"],belongsTo:[],hasMany:[{model:\"WINK.model.Store\",name:\"stores_country_idcountry\",foreignKey:\"country_idcountry\",associationKey:\"stores_country_idcountry\",primaryKey:\"id\"},{",691648,38,"name:\"countrysubdivisions_country_idcountry\",foreignKey:\"country_idcountry\",associationKey:\"countrysubdivisions_country_idcountry\",primaryKey:\"id\"},{model:\"WINK.model.User\",name:\"users_country_idcountry\",foreignKey:\"country_idcountry\",associationKey:\"users_country_idcountry\",primaryKey:\"id\"},",663243,41,"s_country_idcountry\",foreignKey:\"country_idcountry\",associationKey:\"patients_country_idcountry\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_country_idcountry\",foreignKey:\"country_idcountry\",associationKey:\"patientinvoices_country_idcountry\",primaryKey:\"id\"},{model:\"WINK.model.Supplier\",name:\"suppliers_country_idcountry\",foreignKey:\"country_idcountry\",associationKey:\"suppliers_country_idcountry\",primaryKey:\"id\"",685919,38,649709,134,686080,52,"countries/subdivision\",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",649887,52,"null",677326,45,"],belongsTo:[{model:\"WINK.model.Country\",associatedName:\"fkcountry_idcountry\",foreignKey:\"country_idcountry\",primaryKey:\"id\",getterName:\"getFkcountry_idcountry\",setterName:\"setFkcountry_idcountry\"}],hasMany:[",685920,37,649709,55,650021,162,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",661263,66,"null",663919,52,"null",677326,53,667390,51,664096,35,645968,52,"],belongsTo:[{model:\"WINK.model.PatientInvoice\",associatedName:\"fk",650238,33,"foreignKey",664847,35,"primaryKey:\"id\",getterName:\"getFk",650238,33,"setterName:\"setFk",650238,32,"},{model:\"WINK.model.Upload\",associatedName:\"fkuploads_iduploads\",foreignKey:\"uploads_iduploads\",primaryKey:\"id\",getterName:\"getFkuploads_iduploads\",setterName:\"setFkuploads_iduploads\"}],hasMany:[",685920,37,649709,48,"InvoiceAttache",667152,41,"tient",676224,79,"atients\",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",652190,55,"null",686331,344,652590,771,"null},{name:\"titl",676496,37,"languag",676496,37,653456,99,"null",653556,604,"30989795240",654171,235,"null",654407,57,"null",654465,1551,"null",656017,59,"belongsTo:[{model:\"WINK.model.Patient\",associatedName:\"fkreferredby_idpatient\",foreignKey:\"referredby_idpatient\",primaryKey:\"id\",getterName:\"getFkreferredby_idpatient\",setterName:\"setFkreferredby_idpatient\"},{model:\"WINK.model.Country\",associatedName:\"fkcountry_idcountry\",foreignKey:\"country_idcountry\",primaryKey:\"id\",getterName:\"getFkcountry_idcountry\",setterName:\"setFkcountry_idcountry\"},{model:\"WINK.model.User\",associatedName:\"fkreferringdoctor_iduser\",foreignKey:\"referringdoctor_iduser\",primaryKey:\"id\",getterName:\"getFkreferringdoctor_iduser\",setterName:\"setFkreferringdoctor_iduser\"},{model:\"WINK.model.Store\",associatedName:\"fkstore_idstore\",foreignKey:\"store_idstore\",primaryKey:\"id\",getterName:\"getFkstore_idstore\",setterName:\"setFkstore_idstore\"},{model:\"WINK.model.Store\",associatedName:\"fkenteredinstore_idstore\",foreignKey:\"enteredinstore_idstore\",primaryKey:\"id\",getterName:\"getFkenteredinstore_idstore\",setterName:\"setFkenteredinstore_idstore\"}],hasMany",663241,43,"s_referredby_idpatient\",foreignKey:\"referredby_idpatient\",associationKey:\"patients_referredby_idpatient\",primaryKey:\"id\"},{model:\"WINK.model.PatientPayment\",name:\"patientpayments_patient_id",663277,40,"associationKey:\"patientpayments_",663298,35,",{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_patient_id",663277,40,"associationKey:\"patientinvoices_",663298,35,",{model:\"WINK.model.Appointment\",name:\"appointments_patient_id",663277,40,"associationKey:\"appointments_",663298,35,",{model:\"WINK.model.PatientNote\",name:\"patientnotes_patient_id",663277,40,"associationKey:\"patientnotes_",663298,35,",{model:",664209,36,"name:\"patientpaperfilenumbers_patient_id",663277,40,"associationKey:\"patientpaperfilenumbers_",663298,36,647839,36,656111,1581,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",657738,59,"4,7,5,9,55)",663819,52,"null",664444,48,"null",657912,156,"null",675183,53,658122,131,"null",682495,101,663920,51,"null",658407,287,"null",658695,300,"4,7,5,9,55",659007,57,"null",659065,56,"null",659122,380,"null",659503,385,"null",678074,53,659942,45,"null",659988,52,"null",660041,102,"null",660144,56,"null",660201,179,"null},{name:\"isestimat",645983,45,"estimat",654191,37,"],belongsTo:[{model:\"WINK.model.Patient\",associatedName:\"fkpatient_id",663277,55,",getterName:\"getFkpatient_idpatient\",setterName:\"setFkpatient_idpatient\"},{model:\"WINK.model.Store\",associatedName:\"fkstore_idstore\",foreignKey:\"store_idstore\",primaryKey:\"id\",getterName:\"getFkstore_idstore\",setterName:\"setFkstore_idstore\"},{model:\"WINK.model.User\",associatedName:\"fkcreateby_iduser\",foreignKey:\"createby_iduser\",primaryKey:\"id\",getterName:\"getFkcreateby_iduser\",setterName:\"setFkcreateby_iduser\"},{model:\"WINK.model.User\",associatedName:\"fksalesrep\",foreignKey:\"salesrep\",primaryKey:\"id\",getterName:\"getFksalesrep\",setterName:\"setFksalesrep\"},{model:\"WINK.model.Upload\",associatedName:\"fkuploads_iduploads\",foreignKey:\"uploads_iduploads\",primaryKey:\"id\",getterName:\"getFkuploads_iduploads\",setterName:\"setFkuploads_iduploads\"},{model:\"WINK.model.Supplier\",associatedName:\"fkinsurance1_idsupplier\",foreignKey:\"insurance1_idsupplier\",primaryKey:\"id\",getterName:\"getFkinsurance1_idsupplier\",setterName:\"setFkinsurance1_idsupplier\"},{model:\"WINK.model.Supplier\",associatedName:\"fkinsurance2_idsupplier\",foreignKey:\"insurance2_idsupplier\",primaryKey:\"id\",getterName:\"getFkinsurance2_idsupplier\",setterName:\"setFkinsurance2_idsupplier\"},{model:\"WINK.model.User\",associatedName:\"fkprovideruser_iduser\",foreignKey:\"provideruser_iduser\",primaryKey:\"id\",getterName:\"getFkprovideruser_iduser\",setterName:\"setFkprovideruser_iduser\"},{model:\"WINK.model.Country\",associatedName:\"fkcountry_idcountry\",foreignKey:\"country_idcountry\",primaryKey:\"id\",getterName:\"getFkcountry_idcountry\",setterName:\"setFkcountry_idcountry\"},{model:\"WINK.model.User\",associatedName:\"fkdoctoruser_iduser\",foreignKey:\"doctoruser_iduser\",primaryKey:\"id\",getterName:\"getFkdoctoruser_iduser\",setterName:\"setFkdoctoruser_iduser\"},{model:\"WINK.model.Store\",associatedName:\"fkpickupatstore_idstore\",foreignKey:\"pickupatstore_idstore\",primaryKey:\"id\",getterName:\"getFkpickupatstore_idstore\",setterName:\"setFkpickupatstore_idstore\"},{model:\"WINK.model.User\",associatedName:\"fkwriteoffbalanceuser_iduser\",foreignKey:\"writeoffbalanceuser_iduser\",primaryKey:\"id\",getterName:\"getFkwriteoffbalanceuser_iduser\",setterName:\"setFkwriteoffbalanceuser_iduser\"}],hasMany:[{model:\"WINK.model.PatientPayment\",name:\"patientpayments_",650238,33,"foreignKey",664847,35,"associationKey:\"patientpayments_",650238,33,"primaryKey:\"id\"},{model:",650055,32,"name:\"invoiceattachements_",650238,33,"foreignKey",664847,35,"associationKey:\"invoiceattachements_",650238,33,"primaryKey:\"id\"},{model:",661089,32,"name:\"patientinvoiceitems_",650238,33,"foreignKey",664847,35,"associationKey:\"patientinvoiceitems_",650238,33,"primaryKey:\"id\"},{model:",650055,32,"name:\"invoiceattachements_",650238,33,"foreignKey",664847,35,"associationKey:\"invoiceattachements_",650238,33,"primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_",650238,33,"foreignKey",664847,35,"associationKey:\"rxworksheets_",650238,33,"primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_",650238,33,"foreignKey",664847,35,"associationKey:\"clworksheets_",650238,33,"primaryKey:\"id\"",685919,38,"noteoninvoic",680320,40,663008,73,660544,673,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",661263,66,"null",661330,234,"null",661565,52,"null",650884,60,"null",661679,111,"null",661791,113,"null",648362,56,"null",661962,52,"null",662015,66,"null",662082,44,"null",662127,533,"null",682495,101,662762,108,",{name:\"isestimat",645983,37,"],belongsTo:[{model:\"WINK.model.PatientInvoice\",associatedName:\"fk",650238,33,"foreignKey",664847,35,"primaryKey:\"id\",getterName:\"getFk",650238,33,"setterName:\"setFk",650238,32,"},{model:\"WINK.model.TaxCode\",associatedName:\"fktaxcode_idtaxcode\",foreignKey:\"taxcode_idtaxcode\",primaryKey:\"id\",getterName:\"getFktaxcode_idtaxcode\",setterName:\"setFktaxcode_idtaxcode\"},{model:\"WINK.model.Product\",associatedName:\"fkproduct_idproduct\",foreignKey:\"product_idproduct\",primaryKey:\"id\",getterName:\"getFkproduct_idproduct\",setterName:\"setFkproduct_idproduct\"},{model:\"WINK.model.RxWorksheet\",associatedName:\"fkrxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",primaryKey:\"id\",getterName:\"getFkrxworksheet_idrxworksheet\",setterName:\"setFkrxworksheet_idrxworksheet\"},{model:\"WINK.model.ClWorksheet\",associatedName:\"fkclworksheet_idclworksheet\",foreignKey:\"clworksheet_idclworksheet\",primaryKey:\"id\",getterName:\"getFkclworksheet_idclworksheet\",setterName:\"setFkclworksheet_idclworksheet\"},{model:\"WINK.model.Barcode\",associatedName:\"fkbarcode_idbarcode\",foreignKey:\"barcode_idbarcode\",primaryKey:\"id\",getterName:\"getFkbarcode_idbarcode\",setterName:\"setFkbarcode_idbarcode\"},{model:\"WINK.model.User\",associatedName:\"fk",662024,33,"foreignKey",662022,35,"primaryKey:\"id\",getterName:\"getFk",662024,33,"setterName:\"setFk",662024,32,"},{model:",661089,32,"associatedName:\"fk",662587,49,"foreignKey",662585,51,"primaryKey:\"id\",getterName:\"getFk",662587,49,"setterName:\"setFk",662587,48,"}],hasMany:[{model:\"WINK.model.PatientPayment\",name:\"patientpayments_",666400,41,"foreignKey",666398,43,"associationKey:\"patientpayments_",666400,41,"primaryKey:\"id\"},{model:",661089,32,"name:\"patientinvoiceitems_",662587,49,"foreignKey",662585,51,"associationKey:\"patientinvoiceitems_",662587,49,"primaryKey:\"id\"},{model:\"WINK.model.Barcode\",name:\"barcodes_",648651,50,"foreignKey",648649,52,"associationKey:\"barcodes_",648651,50,"primaryKey:\"id\"},{model:\"WINK.model.Barcode\",name:\"barcodes_",648735,50,"foreignKey",648733,52,"associationKey:\"barcodes_",648735,50,"primaryKey:\"id\"",685919,38,668125,50,662957,213,663418,52,"modelid\"},{name:\"icon\"},{name:\"label\",type:\"string\"},{name:\"date\",type:\"date\"},{name:\"type",663576,197,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",663819,52,"null",663872,46,"null",663919,52,"null",663972,102,"4,7,5,9,55)",665071,44,"],belongsTo:[{model:\"WINK.model.Patient\",associatedName:\"fkpatient_id",663277,55,",getterName:\"getFkpatient_idpatient\",setterName:\"setFkpatient_idpatient\"},{model:\"WINK.model.User\",associatedName:\"fkuser_iduser\",foreignKey:\"user_iduser\",primaryKey:\"id\",getterName:\"getFkuser_iduser\",setterName:\"setFkuser_iduser\"},{model:\"WINK.model.Upload\",associatedName:\"fkuploads_iduploads\",foreignKey:\"uploads_iduploads\",primaryKey:\"id\",getterName:\"getFkuploads_iduploads\",setterName:\"setFkuploads_iduploads\"}],hasMany:[",685369,44,664175,170,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",663819,52,"null",664444,48,"null",664493,45,"belongsTo:[{model:\"WINK.model.Patient\",associatedName:\"fkpatient_id",663277,55,",getterName:\"getFkpatient_idpatient\",setterName:\"setFkpatient_idpatient\"},{model:\"WINK.model.Store\",associatedName:\"fkstore_idstore\",foreignKey:\"store_idstore\",primaryKey:\"id\",getterName:\"getFkstore_idstore\",setterName:\"setFkstore_idstore\"}],hasMany:[",685369,44,664580,165,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",664444,48,"null",661263,66,"null",663819,52,"null",664960,54,"4,7,5,9,55)},{name:\"",662432,44,664096,35,665115,63,"null",661679,60,667536,100,687900,43,"null",658457,75,"sequence",665808,46,658522,65,678286,47,"null",665625,122,"null",671670,56,665804,307,"null",666112,62,"null",666175,69,"null",666245,70,"null",666316,74,"null",666391,74,"null",666466,115,"null",666582,100,"null}],belongsTo:[{model:\"WINK.model.Store\",associatedName:\"fkstore_idstore\",foreignKey:\"store_idstore\",primaryKey:\"id\",getterName:\"getFkstore_idstore\",setterName:\"setFkstore_idstore\"},{model:\"WINK.model.PatientInvoice\",associatedName:\"fk",650238,33,"foreignKey",664847,35,"primaryKey:\"id\",getterName:\"getFk",650238,33,"setterName:\"setFk",650238,32,"},{model:\"WINK.model.Patient\",associatedName:\"fkpatient_id",663277,55,",getterName:\"getFkpatient_idpatient\",setterName:\"setFkpatient_idpatient\"},{model:\"WINK.model.PaymentMethod\",associatedName:\"fkpaymentmethod_idpaymentmethod\",foreignKey",665121,33,"primaryKey:\"id\",getterName:\"getFkpaymentmethod_idpaymentmethod\",setterName:\"setFkpaymentmethod_idpaymentmethod\"},{model:\"WINK.model.Upload\",associatedName:\"fkuploads_iduploads\",foreignKey:\"uploads_iduploads\",primaryKey:\"id\",getterName:\"getFkuploads_iduploads\",setterName:\"setFkuploads_iduploads\"},{model:\"WINK.model.Supplier\",associatedName:\"fk",666184,36,"foreignKey",666182,38,"primaryKey:\"id\",getterName:\"getFk",666184,36,"setterName:\"setFk",666184,35,"},{model:",661089,32,"associatedName:\"fk",666400,41,"foreignKey",666398,43,"primaryKey:\"id\",getterName:\"getFk",666400,41,"setterName:\"setFk",666400,40,"},{model:\"WINK.model.Upload\",associatedName:\"fksignatureuploads_iduploads\",foreignKey:\"signatureuploads_iduploads\",primaryKey:\"id\",getterName:\"getFksignatureuploads_iduploads\",setterName:\"setFksignatureuploads_iduploads\"},{model:\"WINK.model.User\",associatedName:\"fkuser_iduser\",foreignKey:\"user_iduser\",primaryKey:\"id\",getterName:\"getFkuser_iduser\",setterName:\"setFkuser_iduser\"}],hasMany:[",685920,37,"descript",680687,41,663008,73,666843,448,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",677326,53,667390,658,"belongsTo:[],hasMany:[{model:\"WINK.model.PatientPayment\",name:\"patientpayments_paymentmethod_idpaymentmethod\",foreignKey",665121,33,"associationKey:\"patientpayments_paymentmethod_idpaymentmethod\",primaryKey:\"id\"",685919,38,688544,42,668125,501,"Category",676224,85,"categories\",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",677326,53,667390,51,"commen",684143,41,677888,95,647440,141,675376,256,"belongsTo:[],hasMany:[{model:\"WINK.model.Product\",name:\"products_",670208,35,"foreignKey",670206,37,"associationKey:\"products_",670208,35,"primaryKey:\"id\"",685919,38,688544,42,675709,614,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",661565,52,"null",664444,48,"null",66***REMOVED***,52,"null",676524,192,"null",676717,86,"null",676804,64,"null",676869,115,"null",676985,58,"belongsTo:[{model:\"WINK.model.Product\",associatedName:\"fkproduct_idproduct\",foreignKey:\"product_idproduct\",primaryKey:\"id\",getterName:\"getFkproduct_idproduct\",setterName:\"setFkproduct_idproduct\"},{model:\"WINK.model.Store\",associatedName:\"fkstore_idstore\",foreignKey:\"store_idstore\",primaryKey:\"id\",getterName:\"getFkstore_idstore\",setterName:\"setFkstore_idstore\"},{model:\"WINK.model.TaxCode\",associatedName:\"fktaxcode_idtaxcode\",foreignKey:\"taxcode_idtaxcode\",primaryKey:\"id\",getterName:\"getFktaxcode_idtaxcode\",setterName:\"setFktaxcode_idtaxcode\"},{model:\"WINK.model.Product\",associatedName:\"fklenstreatment_idlenstreatment\",foreignKey",676811,33,"primaryKey:\"id\",getterName:\"getFklenstreatment_idlenstreatment\",setterName:\"setFklenstreatment_idlenstreatment\"},{model:\"WINK.model.Product\",associatedName:\"fklensmaterial_idlensmaterial\",foreignKey:\"lensmaterial_idlensmaterial\",primaryKey:\"id\",getterName:\"getFklensmaterial_idlensmaterial\",setterName:\"setFklensmaterial_idlensmaterial\"}],hasMany:[",685369,44,677085,144,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",677275,895,"null",678171,162,"null",678334,383,"null",678718,557,"4,7",679279,400,"null",679680,60,"null}],belongsTo:[{model:\"WINK.model.Country\",associatedName:\"fkcountry_idcountry\",foreignKey:\"country_idcountry\",primaryKey:\"id\",getterName:\"getFkcountry_idcountry\",setterName:\"setFkcountry_idcountry\"},{model:\"WINK.model.Store\",associatedName:\"fkedgeatstore_idstore\",foreignKey:\"edgeatstore_idstore\",primaryKey:\"id\",getterName:\"getFkedgeatstore_idstore\",setterName:\"setFkedgeatstore_idstore\"},{model:\"WINK.model.Supplier\",associatedName:\"fkedgeatsupplier_idsupplier\",foreignKey:\"edgeatsupplier_idsupplier\",primaryKey:\"id\",getterName:\"getFkedgeatsupplier_idsupplier\",setterName:\"setFkedgeatsupplier_idsupplier\"}],hasMany:[{model:\"WINK.model.Store\",name:\"stores_edgeatstore_idstore\",foreignKey:\"edgeatstore_idstore\",associationKey:\"stores_edgeatstore_idstore\",primaryKey:\"id\"},",663243,41,"s_store_idstore\",foreignKey:\"store_idstore\",associationKey:\"patients_store_idstore\",primaryKey:\"id\"},",663243,41,"s_enteredinstore_idstore\",foreignKey:\"enteredinstore_idstore\",associationKey:\"patients_enteredinstore_idstore\",primaryKey:\"id\"},{model:\"WINK.model.PatientPayment\",name:\"patientpayments_store_idstore\",foreignKey:\"store_idstore\",associationKey:\"patientpayments_store_idstore\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_store_idstore\",foreignKey:\"store_idstore\",associationKey:\"patientinvoices_store_idstore\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_pickupatstore_idstore\",foreignKey:\"pickupatstore_idstore\",associationKey:\"patientinvoices_pickupatstore_idstore\",primaryKey:\"id\"},{model:\"WINK.model.Appointment\",name:\"appointments_store_idstore\",foreignKey:\"store_idstore\",associationKey:\"appointments_store_idstore\",primaryKey:\"id\"},{model:",664209,36,"name:\"patientpaperfilenumbers_store_idstore\",foreignKey:\"store_idstore\",associationKey:\"patientpaperfilenumbers_store_idstore\",primaryKey:\"id\"},{model:",676193,33,"name:\"productretaildetails_store_idstore\",foreignKey:\"store_idstore\",associationKey:\"productretaildetails_store_idstore\",primaryKey:\"id\"",685919,38,"company",688544,42,688544,42,679870,1208,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",678171,56,668768,44,681224,941,"null",682166,430,",{name:\"iscontactlenssuppli",682192,46,"isframesuppli",682192,38,"],belongsTo:[{model:\"WINK.model.Country\",associatedName:\"fkcountry_idcountry\",foreignKey:\"country_idcountry\",primaryKey:\"id\",getterName:\"getFkcountry_idcountry\",setterName:\"setFkcountry_idcountry\"}],hasMany:[{model:\"WINK.model.Store\",name:\"stores_edgeatsupplier_idsupplier\",foreignKey:\"edgeatsupplier_idsupplier\",associationKey:\"stores_edgeatsupplier_idsupplier\",primaryKey:\"id\"},{model:\"WINK.model.Product\",name:\"products_preferredsupplier_idsupplier\",foreignKey",671490,32,"associationKey:\"products_preferredsupplier_idsupplier\",primaryKey:\"id\"},{model:\"WINK.model.Product\",name:\"products_",671556,33,"foreignKey",671554,35,"associationKey:\"products_",671556,33,"primaryKey:\"id\"},{model:\"WINK.model.PatientPayment\",name:\"patientpayments_",666184,36,"foreignKey",666182,38,"associationKey:\"patientpayments_",666184,36,"primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_insurance1_idsupplier\",foreignKey:\"insurance1_idsupplier\",associationKey:\"patientinvoices_insurance1_idsupplier\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_insurance2_idsupplier\",foreignKey:\"insurance2_idsupplier\",associationKey:\"patientinvoices_insurance2_idsupplier\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_supplier_idsupplier\",foreignKey:\"supplier_idsupplier\",associationKey:\"rxworksheets_supplier_idsupplier\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_supplier_idsupplier\",foreignKey:\"supplier_idsupplier\",associationKey:\"clworksheets_supplier_idsupplier\",primaryKey:\"id\"",685919,38,688544,42,"maincontact",688640,46,688639,437,680314,184,683353,290,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",671135,53,683742,589,"belongsTo:[],hasMany:[{model:",661089,32,"name:\"patientinvoiceitems_taxcode_idtaxcode\",foreignKey:\"taxcode_idtaxcode\",associationKey:\"patientinvoiceitems_taxcode_idtaxcode\",primaryKey:\"id\"},{model:",684880,34,"name:\"taxcodeeffectivedates_taxcode_idtaxcode\",foreignKey:\"taxcode_idtaxcode\",associationKey:\"taxcodeeffectivedates_taxcode_idtaxcode\",primaryKey:\"id\"},{model:",676193,33,"name:\"productretaildetails_taxcode_idtaxcode\",foreignKey:\"taxcode_idtaxcode\",associationKey:\"productretaildetails_taxcode_idtaxcode\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_frame_idtaxcode\",foreignKey:\"frame_idtaxcode\",associationKey:\"rxworksheets_frame_idtaxcode\",primaryKey:\"id\"",685919,38,674255,42,668125,50,"tax1",688544,42,"tax2",688544,42,"tax1",680544,45,"tax1",684750,48,684651,361,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",66***REMOVED***,52,"null",685111,260,"belongsTo:[{model:\"WINK.model.TaxCode\",associatedName:\"fktaxcode_idtaxcode\",foreignKey:\"taxcode_idtaxcode\",primaryKey:\"id\",getterName:\"getFktaxcode_idtaxcode\",setterName:\"setFktaxcode_idtaxcode\"}],hasMany:[",685369,191,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",685606,63,"type:\"string",685667,255,"belongsTo:[],hasMany:[{model:\"WINK.model.Product\",name:\"products_imageuploads_iduploads\",foreignKey:\"imageuploads_iduploads\",associationKey:\"products_imageuploads_iduploads\",primaryKey:\"id\"},{model:\"WINK.model.User\",name:\"users_",687886,33,"foreignKey",687884,35,"associationKey:\"users_",687886,33,"primaryKey:\"id\"},{model:\"WINK.model.PatientPayment\",name:\"patientpayments_uploads_iduploads\",foreignKey:\"uploads_iduploads\",associationKey:\"patientpayments_uploads_iduploads\",primaryKey:\"id\"},{model:\"WINK.model.PatientPayment\",name:\"patientpayments_signatureuploads_iduploads\",foreignKey:\"signatureuploads_iduploads\",associationKey:\"patientpayments_signatureuploads_iduploads\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_uploads_iduploads\",foreignKey:\"uploads_iduploads\",associationKey:\"patientinvoices_uploads_iduploads\",primaryKey:\"id\"},{model:",650055,32,"name:\"invoiceattachements_uploads_iduploads\",foreignKey:\"uploads_iduploads\",associationKey:\"invoiceattachements_uploads_iduploads\",primaryKey:\"id\"},{model:",650055,32,"name:\"invoiceattachements_uploads_iduploads\",foreignKey:\"uploads_iduploads\",associationKey:\"invoiceattachements_uploads_iduploads\",primaryKey:\"id\"},{model:\"WINK.model.PatientNote\",name:\"patientnotes_uploads_iduploads\",foreignKey:\"uploads_iduploads\",associationKey:\"patientnotes_uploads_iduploads\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_uploads_iduploads\",foreignKey:\"uploads_iduploads\",associationKey:\"rxworksheets_uploads_iduploads\",primaryKey:\"id\"",685919,219,",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",668955,49,686233,1710,"null",682495,101,688045,212,"null",688258,200,"belongsTo:[{model:\"WINK.model.Upload\",associatedName:\"fk",687886,33,"foreignKey",687884,35,"primaryKey:\"id\",getterName:\"getFk",687886,33,"setterName:\"setFk",687886,32,"},{model:\"WINK.model.Country\",associatedName:\"fkcountry_idcountry\",foreignKey:\"country_idcountry\",primaryKey:\"id\",getterName:\"getFkcountry_idcountry\",setterName:\"setFkcountry_idcountry\"}],hasMany",663241,43,"s_referringdoctor_iduser\",foreignKey:\"referringdoctor_iduser\",associationKey:\"patients_referringdoctor_iduser\",primaryKey:\"id\"},{model:\"WINK.model.PatientPayment\",name:\"patientpayments_user_iduser\",foreignKey:\"user_iduser\",associationKey:\"patientpayments_user_iduser\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_createby_iduser\",foreignKey:\"createby_iduser\",associationKey:\"patientinvoices_createby_iduser\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_salesrep\",foreignKey:\"salesrep\",associationKey:\"patientinvoices_salesrep\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_provideruser_iduser\",foreignKey:\"provideruser_iduser\",associationKey:\"patientinvoices_provideruser_iduser\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_doctoruser_iduser\",foreignKey:\"doctoruser_iduser\",associationKey:\"patientinvoices_doctoruser_iduser\",primaryKey:\"id\"},{model:\"WINK.model.PatientInvoice\",name:\"patientinvoices_writeoffbalanceuser_iduser\",foreignKey:\"writeoffbalanceuser_iduser\",associationKey:\"patientinvoices_writeoffbalanceuser_iduser\",primaryKey:\"id\"},{model:",661089,32,"name:\"patientinvoiceitems_",662024,33,"foreignKey",662022,35,"associationKey:\"patientinvoiceitems_",662024,33,"primaryKey:\"id\"},{model:\"WINK.model.Appointment\",name:\"appointments_doctor_idpatient\",foreignKey:\"doctor_idpatient\",associationKey:\"appointments_doctor_idpatient\",primaryKey:\"id\"},{model:\"WINK.model.Barcode\",name:\"barcodes_disabledbyuser_iduser\",foreignKey:\"disabledbyuser_iduser\",associationKey:\"barcodes_disabledbyuser_iduser\",primaryKey:\"id\"},{model:\"WINK.model.PatientNote\",name:\"patientnotes_user_iduser\",foreignKey:\"user_iduser\",associationKey:\"patientnotes_user_iduser\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_createby_iduser\",foreignKey:\"createby_iduser\",associationKey:\"rxworksheets_createby_iduser\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_doctor_iduser\",foreignKey:\"doctor_iduser\",associationKey:\"rxworksheets_doctor_iduser\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_opticianuser_iduser\",foreignKey:\"opticianuser_iduser\",associationKey:\"rxworksheets_opticianuser_iduser\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_createby_iduser\",foreignKey:\"createby_iduser\",associationKey:\"clworksheets_createby_iduser\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_doctor_iduser\",foreignKey:\"doctor_iduser\",associationKey:\"clworksheets_doctor_iduser\",primaryKey:\"id\"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_opticianuser_iduser\",foreignKey:\"opticianuser_iduser\",associationKey:\"clworksheets_opticianuser_iduser\",primaryKey:\"id\"",685919,38,688493,1122,"model.ProductBrowseModel",649817,44,677326,53,676378,43,"null",670199,68,"null},{name:\"type\",type:\"int\"}],belongsTo:[{model:\"WINK.model.ProductCategory\",associatedName:\"fk",670208,35,"foreignKey",670206,37,"primaryKey:\"id\",getterName:\"getFk",670208,35,"setterName:\"setFk",670208,34,"},{model:\"WINK.model.Product\",associatedName:\"fkproduct_idproduct\",foreignKey:\"product_idproduct\",primaryKey:\"id\",getterName:\"getFkproduct_idproduct\",setterName:\"setFkproduct_idproduct\"}",677056,36,"BrowseMode",677103,36,"RxWorksheet",676224,78,"rxworksheets\",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",661263,66,658014,54,"null},{name:\"externaldocto",655264,41,653516,39,"null},{name:\"tray",653184,41,647693,43,"l",647693,43,"r_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"r_cyl",666607,38,"r_axi",654752,39,"r_add",666607,38,"r_prism1",666607,38,"r_prism1b",646256,36,"r_prism",659312,39,"r_prism2b",663792,37,"rism",651488,45,"_farpd",666607,38,"r_closepd",666607,38,"r_heigh",666606,39,"r_",662544,43,"labinstruction",670848,41,"l_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"l_cyl",666607,38,"l_axi",654752,39,"l_add",666607,38,"l_prism1",666607,38,"l_prism1b",653376,37,"_prism",659312,39,"l_prism2b",653376,37,"_farpd",666607,38,"l_closepd",666607,38,"l_heigh",666606,39,"l_",662544,43,"underwarranty",645984,44,"framesrc",646256,36,669004,155,"b",652816,40,669246,100,"a",652816,40,669341,91,"frame",662544,44,"_bc",666607,38,"l_bc",666607,38,"frame",661581,36,"null},{name:\"frame",661971,43,"null",665071,52,"fram",661527,37,"null},{name:\"isexternaldoctor",653888,45,"ens",661581,36,"null",676922,62,"null",676804,64,"null",682495,101,",{name:\"rpricemanuallyupdat",672415,46,"lpricemanuallyupdat",672415,47,"ramepricemanuallyupdat",672415,46,671568,45,"null",663919,52,"null",658407,59,650893,51,"null},{name:\"reasonforredocomment",653184,41,"xredoreason_idrxredoreason\",type:\"int\",defaultValue:null},{name:\"rxreasonforpurchase_idrxreasonforpurchase\",type:\"int\",defaultValue:null},{name:\"ispatientownlens",687566,46,"r_price_material",666607,38,"r_price_coating",666607,38,"l_price_material",666607,38,"l_price_coating",666607,38,"rpricecoatingmanuallyupdat",672415,46,"rpricematerialmanuallyupdat",672415,46,"lpricecoatingmanuallyupdat",672415,46,"lpricematerialmanuallyupdat",672415,46,"crea",664028,46,"4,7,5,9,55)},{name:\"scriptreceiv",664029,45,"4,7,5,9,55)},{name:\"optician",649152,37,"null},{name:\"r_va",652816,40,"l_va",653184,41,"_add",659312,39,"l_add",659312,39,"r_thicknes",654752,39,"r_ec",653376,37,"_thicknes",654752,39,"l_ec",646256,36,"r_vertex",666607,38,"r_vertexadjus",666606,39,"l_vertex",666607,38,"l_vertextadjus",666606,39,"per",679364,51,"],belongsTo:[{model:\"WINK.model.PatientInvoice\",associatedName:\"fk",650238,33,"foreignKey",664847,35,"primaryKey:\"id\",getterName:\"getFk",650238,33,"setterName:\"setFk",650238,32,"},{model:\"WINK.model.User\",associatedName:\"fkcreateby_iduser\",foreignKey:\"createby_iduser\",primaryKey:\"id\",getterName:\"getFkcreateby_iduser\",setterName:\"setFkcreateby_iduser\"},{model:\"WINK.model.User\",associatedName:\"fkdoctor_iduser\",foreignKey:\"doctor_iduser\",primaryKey:\"id\",getterName:\"getFkdoctor_iduser\",setterName:\"setFkdoctor_iduser\"},{model:\"WINK.model.Product\",associatedName:\"fkframe_idproduct\",foreignKey:\"frame_idproduct\",primaryKey:\"id\",getterName:\"getFkframe_idproduct\",setterName:\"setFkframe_idproduct\"},{model:\"WINK.model.Barcode\",associatedName:\"fkframebarcode_idbarcode\",foreignKey:\"framebarcode_idbarcode\",primaryKey:\"id\",getterName:\"getFkframebarcode_idbarcode\",setterName:\"setFkframebarcode_idbarcode\"},{model:\"WINK.model.TaxCode\",associatedName:\"fkframe_idtaxcode\",foreignKey:\"frame_idtaxcode\",primaryKey:\"id\",getterName:\"getFkframe_idtaxcode\",setterName:\"setFkframe_idtaxcode\"},{model:\"WINK.model.Product\",associatedName:\"fklens_idproduct\",foreignKey:\"lens_idproduct\",primaryKey:\"id\",getterName:\"getFklens_idproduct\",setterName:\"setFklens_idproduct\"},{model:\"WINK.model.Product\",associatedName:\"fklensmaterial_idlensmaterial\",foreignKey:\"lensmaterial_idlensmaterial\",primaryKey:\"id\",getterName:\"getFklensmaterial_idlensmaterial\",setterName:\"setFklensmaterial_idlensmaterial\"},{model:\"WINK.model.Product\",associatedName:\"fklenstreatment_idlenstreatment\",foreignKey",676811,33,"primaryKey:\"id\",getterName:\"getFklenstreatment_idlenstreatment\",setterName:\"setFklenstreatment_idlenstreatment\"},{model:\"WINK.model.Supplier\",associatedName:\"fksupplier_idsupplier\",foreignKey:\"supplier_idsupplier\",primaryKey:\"id\",getterName:\"getFksupplier_idsupplier\",setterName:\"setFksupplier_idsupplier\"},{model:\"WINK.model.Upload\",associatedName:\"fkuploads_iduploads\",foreignKey:\"uploads_iduploads\",primaryKey:\"id\",getterName:\"getFkuploads_iduploads\",setterName:\"setFkuploads_iduploads\"},{model:\"WINK.model.RxWorksheet\",associatedName:\"fkrxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",primaryKey:\"id\",getterName:\"getFkrxworksheet_idrxworksheet\",setterName:\"setFkrxworksheet_idrxworksheet\"},{model:\"WINK.model.User\",associatedName:\"fkopticianuser_iduser\",foreignKey:\"opticianuser_iduser\",primaryKey:\"id\",getterName:\"getFkopticianuser_iduser\",setterName:\"setFkopticianuser_iduser\"}],hasMany:[{model:",661089,32,"name:\"patientinvoiceitems_rxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",associationKey:\"patientinvoiceitems_rxworksheet_idrxworksheet\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_rxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",associationKey:\"rxworksheets_rxworksheet_idrxworksheet\",primaryKey:\"id\"},{model:\"WINK.model.RxWorksheetTreatment\",name:\"rxworksheettreatments_rxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",associationKey:\"rxworksheettreatments_rxworksheet_idrxworksheet\",primaryKey:\"id\"",685919,38,"externaldocto",684560,40,"ra",679967,39,"r_sph",660736,38,"l_sph",660736,38,"frame",673515,43,"framemodel",660736,38,"framecolo",684560,39,"frameb",660736,38,"framee",673519,39,"framedbl",660736,38,673325,44,663008,73,660544,72,"reasonforredocomment",674525,39,"r_va",660736,38,"l_va",661008,44,"RxWorksheet",650032,35,"ClWorksheet",676224,78,"clworksheets\",withCredentials:true,useDefaultXhrHeader:false,cors:true",652144,45,"null",661263,66,658014,54,"null},{name:\"externaldocto",655264,41,653516,39,"null},{name:\"tray",652816,40,"labinstruction",670848,41,"r_",661339,39,"l_",661339,39,"r_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"r_cyl",666607,38,"r_axi",654752,39,"r_add",666607,38,"r_bc",666607,38,"r_dia",666607,38,"r_d",646255,37,"r_",662544,43,"l_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"l_cyl",666607,38,"l_axi",654752,39,"l_add",666607,38,"l_bc",666607,38,"l_dia",666607,38,"l_d",646255,37,"l_",662544,43,664096,35,",{name:\"rcl",661581,36,"null},{name:\"r",661971,43,"null},{name:\"l",661971,43,"null},{name:\"isexternaldoctor",653888,45,"cl",661581,36,"null",682495,101,",{name:\"rpricemanuallyupdat",672415,46,"lpricemanuallyupdat",672415,46,671568,45,"null",658936,59,"4,7,5,9,55)},{name:\"optician",649152,37,"null}],belongsTo:[{model:\"WINK.model.PatientInvoice\",associatedName:\"fk",650238,33,"foreignKey",664847,35,"primaryKey:\"id\",getterName:\"getFk",650238,33,"setterName:\"setFk",650238,32,"},{model:\"WINK.model.User\",associatedName:\"fkcreateby_iduser\",foreignKey:\"createby_iduser\",primaryKey:\"id\",getterName:\"getFkcreateby_iduser\",setterName:\"setFkcreateby_iduser\"},{model:\"WINK.model.User\",associatedName:\"fkdoctor_iduser\",foreignKey:\"doctor_iduser\",primaryKey:\"id\",getterName:\"getFkdoctor_iduser\",setterName:\"setFkdoctor_iduser\"},{model:\"WINK.model.Product\",associatedName:\"fkrcl_idproduct\",foreignKey:\"rcl_idproduct\",primaryKey:\"id\",getterName:\"getFkrcl_idproduct\",setterName:\"setFkrcl_idproduct\"},{model:\"WINK.model.Barcode\",associatedName:\"fkrbarcode_idbarcode\",foreignKey:\"rbarcode_idbarcode\",primaryKey:\"id\",getterName:\"getFkrbarcode_idbarcode\",setterName:\"setFkrbarcode_idbarcode\"},{model:\"WINK.model.Barcode\",associatedName:\"fklbarcode_idbarcode\",foreignKey:\"lbarcode_idbarcode\",primaryKey:\"id\",getterName:\"getFklbarcode_idbarcode\",setterName:\"setFklbarcode_idbarcode\"},{model:\"WINK.model.Product\",associatedName:\"fklcl_idproduct\",foreignKey:\"lcl_idproduct\",primaryKey:\"id\",getterName:\"getFklcl_idproduct\",setterName:\"setFklcl_idproduct\"},{model:\"WINK.model.Supplier\",associatedName:\"fksupplier_idsupplier\",foreignKey:\"supplier_idsupplier\",primaryKey:\"id\",getterName:\"getFksupplier_idsupplier\",setterName:\"setFksupplier_idsupplier\"},{model:\"WINK.model.User\",associatedName:\"fkopticianuser_iduser\",foreignKey:\"opticianuser_iduser\",primaryKey:\"id\",getterName:\"getFkopticianuser_iduser\",setterName:\"setFkopticianuser_iduser\"}],hasMany:[{model:",661089,32,"name:\"patientinvoiceitems_clworksheet_idclworksheet\",foreignKey:\"clworksheet_idclworksheet\",associationKey:\"patientinvoiceitems_clworksheet_idclworksheet\",primaryKey:\"id\"",685919,38,"externaldocto",684560,40,"ra",679967,39,"r_sph",660736,38,"l_sph",660736,38,663008,102,"ClWorksheet",691550,35,"Produc",690543,32,"autoLoad:false,data:[],model:\"WINK.model.Product\"",692160,72,"Product",692239,34,689615,444,"fals",690062,59,690213,163,"],model:\"WINK.model.TaxCod",692063,55,"taxcodes\",withCredentials:true,useDefaultXhrHeader:false},sorters:[{property:\"cod",690236,48,"TaxC",449055,32,690526,310,"sortHistory:function(){this.sort([{property:\"type\",direction:\"ASC\"},{property:\"date\",direction:\"DESC\"}])},",690567,41,"HistoryTre",690630,32,"if(a.get(\"t",691230,44,"t",691275,34,"t",691310,41,"t",691352,39,"t",691392,38,"t",691431,44,"type\")},sortProperty:\"type\"},sorters:[{property:\"typ",690236,48,691531,103,691648,39,690214,70,691898,105,"false,storeId:\"CountryStore\"",692007,37,690214,70,692232,41,"store.JobStatusStore\",Ext.data.Store,{sortList:function(){this.sort([{property:\"date\",direction:\"DESC\"}])},config:{data:[],",686080,52,"jobstatuss/forpatientinvoice\",withCredentials:true,useDefaultXhrHeader:false},model:\"WINK.model.JobStatusWrapper\",sorters:[{property:\"date\",direction:\"DE",690251,33,"JobStatus",692239,34,"store.PaymentMethod",690544,59,"ymentMethod",692064,54,"paymentmethods\",withCredentials:true,useDefaultXhrHeader:false",692159,73,"PaymentMethod",692239,205,"Id",692444,56,692436,55,"Record",692496,330,692856,356,"fals",693215,35,"margin:\"5 5 5 5",693248,855,"v",694104,39,694103,252,",hidden:true",694355,222,",hidden:true",694355,108,694685,110,",hidden:true}]",724470,41,"winkname:\"quickfind\",defaults:{labelWidth:\"35%",724553,62,"\",placeHolder:\"i,r,z,s\"},{xtype:\"textfield\",flex:1",724647,86,693217,33,"margin:\"5 5 5 5\",ui:\"action\",text:\"Open\",handler:function(a,b){console.log(\"Quickfind.handler()\");var c=a.up(\"fieldset[winkname=quickfind]\").down(\"textfield[name=winkfile]\").getValue();if(!c){return}c=c.toLowerCase();console.log(\"Quickfind:\"+c);if(c.startsWith(\"i\")||c.startsWith(\"z\")||c.startsWith(\"r\")){document.location.href=\"#\"+c}}",694795,1833,"routes:{mainmenu:\"openMainmenu\",login:\"openLogin\",\"\":\"goToLogin\"",696626,105,"openLogin:function(",715056,45,"LoginPanel())},doGoToMainScreen:function(){document.location.href=\"#mainmenu\"},goToLogin:function(){document.location.href=\"#login\"},openMainmenu",696747,213,"scope:this",667248,34,696993,119,"Id",697112,71,"WINK.Utilities.loginSuccess(c);WINK.Utilities.loadAllRequiredStores();",697183,163,"document.location.href=\"#mainmenu\"}",725564,79,697478,697,"before:{openPatient:\"beforeRoute\",openInvoice:\"beforeRoute\",openFindPatient:\"beforeRoute\",openNewPatient:\"beforeRoute\",openQuicksale:\"beforeRoute\"},routes:{\"patient/:patientid\":\"openPatient\",\"invoice/:invoiceid\":\"openInvoice\",findpatient:\"openFindPatient\",newpatient:\"openNewPatient\",newquicksale:\"openQuicksale\",\"i:invoiceid\":\"openInvoice\",\"z:patient",698193,263,",\"button[action=goBack]\":{tap:\"goBack\"}}},goBack:function(){history.back()},beforeRoute:function(a){console.log(\"MenuController.beforeRoute()\");WINK.Utilities.showWorking();WINK.Utilities.loadAllRequiredStores(function(){console.log(\"MenuController.beforeRoute() callback\"",726807,33,"resume()})},openInvoice:function(b){var a=this;WINK.model.PatientInvoice.load(b,{success:function(d){console.log(\"loaded \"+d.get(\"id\"));if(d.get(\"patient_idpatient\")&&d.get(\"patient_idpatient\")>0){a.openPatientInvoice(d.get(\"patient_idpatient\"),b)}else{var c",698758,38,697235,32,"c);c.loadPatientInvoice(d)}}})},openPatientInvoice:function(b,a){this.openPatient(b)},openPatient:function(a){WINK.model.Patient.load(a,{scope:this,failure:function(c,b",725612,61,"Open Patient\",b)},success:function(d,c){console.log(\"Loaded Patient\"+d.getId()+\" \"+d.get(\"lastname\"));var b",698632,80,726806,32,"b.loadPatient(d)},callback:function(c,b){}}",698591,155,"b,c,a){document.location.href=\"#newquicksale\"},openQuicksale:function(){console.log(\"MenuController.openQuicksale()\");var b=Ext.create(\"WINK.model.PatientInvoice\");WINK.Utilities.setDefaultValues(b);",698753,80,";a.loadPatientInvoice(b",698832,41,"document.location.href=\"#newpatient\"},openNewPatient:function(){var a",698878,73,"a)},openFindPatient:function(",698992,153,698957,37,"document.location.href=\"#findpatient\"",699141,41,699262,40,697584,33,"Menu",112127,34,"WINK.view.JobStatusPanel\",Ext.Panel,{getStore:function(){if(!this.winkStore){this.winkStore=Ext.create(\"WINK.store.JobStatusStore\");this.down(\"dataview\").setStore(this.winkStore)}return this.winkStore},loadStatusOnce:function(){console.log(\"JobStatusPanel loadStatusOnce()\");if(!this.alreadyLoaded){this.alreadyLoaded=true;this.setMasked(true);var b=this.up(\"InvoicePanel\");var a=b.patientinvoice;console.log(\"Jobstatuspanel loadStatusOnce idpatientinvoice \"+a.get(\"id\"));this.getStore().load({scope:this,params:{idpatientinvoice:a.get(\"id\")},callback:function(d,c,e){console.log(\"loaded job status records\");this.setMasked(false)}})}},config:{layout:\"fit\",items:[",700009,54,"false,itemTpl:'{date:date(\"Y M D h:m\")} ({reference}) {user} {status} {comment}',listeners:{itemtap:function(b,c,g,a,f,d){}}}]}},0,[\"jobstatus",279247,40,",\"jobstatus",620927,39,"panel:true,jobstatuspanel:true},[\"widget.jobstatuspanel\"],0,[WINK.view,\"JobStatus",710543,39,"PhoneField\",Ext.field.Text,{config:{",313931,33,"l\"}}},0,[\"phone",318464,42,"phone",580718,51,"honefield:true},[\"widget.phonefield\"],0,[WINK.view,\"PhoneField",706416,34,"PriceField\",Ext.form.Number,{apply",575408,32,578010,153,".toFixed(2);return(isNaN(b))?\"\":b},config:{component:{xtype:\"input\",type:\"number\"},stepValue:0.01}},0,[\"price",318464,42,"numberfield\",\"price",578478,66,",pricefield:true},[\"widget.pricefield\"],0,[WINK.view,\"PriceField",706416,36,"tField\",Ext.form.Number,{applyValue1",577983,167,"Math.round(b);b=(isNaN(b))?\"\":b;return b},setValue1:function(a){var b=this.applyValue1(a);console.log(a+\" formattedTo  \"+b);this.superclass.setValue.call(this,b)},parseStringToFloat:function(a){a=a.replace(/[^0-9.]/g,\"\");return parseFloat(a)},config:{component:{xtype:\"input\",type:\"number\"},value:0",702239,40,"},0,[\"int",318464,42,"numberfield\",\"int",578478,66,",intfield:true},[\"widget.intfield\"],0,[WINK.view,\"IntField",706416,34,701183,608,"form.Panel,{deleteItem:function(){var a=this.up(\"InvoicePanel\");a.deleteItem(this)},loadItem:function(a){this.winkloading=true;console.log(\"InvoiceItemPanel.loadItem item.unitprice:\"+a.get(\"unitprice\"));this.setRecord(a);var b=this.down(\"label[winkname=productname]\");a.getFkproduct_idproduct({callback:function(d,c){b.setHtml(d.get(\"name\"))}});this.updateTotal();this.winkloading=false},getSubtotal:function(){var c=this.down(\"numberfield[name=qty]\");var b=this.down(\"numberfield[name=prediscount_unitprice]\");var d=this.down(\"numberfield[name=discountamount]\");var a=((c.getValue()*b.getValue())-d.getValue());console.log(\"invoice item getSubtTotal():\"+a);return a},showMore:function(){this.setHeight(160),this.down(\"container[winkname=invoiceitemdetails]\").show()},showLess:function(){this.setHeight(80),this.down(\"container[winkname=invoiceitemdetails]\").hide()},getInvoiceDate:function(){var a=this.up(\"InvoicePanel\");return a.getOrderDate()},getTaxCodeRate:function(){",719491,34,"taxcode_idtaxcode]\");var d=a.getRecord();if(!d){return null}ratesStore=d.taxcodeeffectivedates_taxcode_idtaxcode();var c=null;var b=this.getInvoiceDate();console.log(\"invoice date: \"+b);ratesStore.each(function(g,f,h){console.log(\"looking for taxcode rate: \"+g.get(\"effectivedate\"));var i=g.get(\"effectivedate\");var e=false;if(!i){e=true}else{if(i<=b){e=true}}if(e){console.log(\"found valid tax code rate\");if(!c){c=g}else{if(c.get(\"effectivedate\")<i){c=g}}}else{console.log(\"found invalid tax code rate\")}},this);return c},recalculateTax:function(){if(this.winkloading){return}console.log(\"InvoiceItemPanel.recalculateTax()\");var d=this.down(\"numberfield[name=tax1amount]\");var f=this.down(\"numberfield[name=tax2amount]\");var a=this.getTaxCodeRate();if(!a){console.log(\"InvoiceItemPanel.recalculateTax() noFoundTaxRate\");d.setValue(0);f.setValue(0)}else{console.log(\"InvoiceItemPanel.recalculateTax()  FoundTaxRate \"+a.get(\"tax1percentage\")+\" \"+a.get(\"tax2percentage\"));var b=this.down(\"numberfield[name=qty]\");var c=this.down(\"numberfield[name=prediscount_unitprice]\");var e=this.down(\"numberfield[name=discountamount]\");var g=((b.getValue()*c.getValue())-e.getValue());var i=g*a.get(\"tax1percentage\")/100;if(a.get(\"piggyback\")){g+=i}var h=g*a.get(\"tax2percentage\")/100;d.setValue(i);f.setValue(h)}},getTax1:function(){var a=this.down(\"numberfield[name=tax1amount]\");return a.getValue()},getTax2:function(){var a=this.down(\"numberfield[name=tax2amount]\");return a.getValue()},getTax1Name:function(){",719491,34,"taxcode_idtaxcode]\");var b=a.getRecord();if(!b){return null}return b.get(\"tax1name\")},getTax2Name:function(){",719491,34,"taxcode_idtaxcode]\");var b=a.getRecord();if(!b){return null}return b.get(\"tax2name\")},updateModel:function(){var b=this.getRecord();var a=this.getValues();console.log(\"Invoice Item:\"+b);console.log(a);b.set(a);return b},updateTotal:function(){var a=this.down(\"numberfield[name=subtotal_beforetax]\");var b=this.up(\"InvoicePanel\");a.setValue(this.getSubtotal());if(b){b.updateSummary()}},",701802,51,"8",701854,83,"vbox\"},items:[{xtype:\"label\",baseCls:\"Product Name\",html:\"",702027,36,"15px; font-family:\"open sans\"',winkname:\"productname\",height:20},",709898,46,"center\"},winkname:\"invoiceitemsummary\",items:[{xtype:\"label\",flex:1},{xtype:\"intfield\",name:\"product_idproduct\",hidden:true},{xtype:\"int",702119,111,"name:\"qty\",listeners:{change:function(a,c,b){a.up(\"invoiceitempanel\").updateTotal()}}},{xtype:\"price",702119,117,"0",702421,64,"name:\"prediscount_unitprice\",listeners:{change:function(a,c,b){a.up(\"invoiceitempanel\").updateTotal()}}",702499,160,",name:\"taxcode_idtaxcode\",listeners:{change:function(a,c,b){arguments[0].up(\"invoiceitempanel\").recalculateTax()}}},{xtype:\"price",702119,117,"0",702421,64,"name:\"discountamount\",listeners:{change:function(a,c,b){a.up(\"invoiceitempanel\").updateTotal()}}},{xtype:\"price",702675,125,"0",702810,80,",name:\"subtotal_beforetax\"",702890,83,",handler:function(a){a.up(\"invoiceitempanel\").deleteItem()}}]},",709898,46,"center\"},winkname:\"invoiceitemdetails\",hidden:true,items:[{xtype:\"pricefield\",name:\"tax1amount\",inputCls:\"inputAmount\",value:0,listeners:{change:function(a,c,b){a.up(\"invoiceitempanel\").updateTotal()}}},{xtype:\"pricefield\",name:\"tax2amount\",inputCls:\"inputAmount\",value:0,listeners:{change:function(a,c,b){a.up(\"invoiceitempanel\").updateTotal()}}}]}]}},0,[\"invoiceitem",279247,40,",\"formpanel\",\"invoiceitem",620927,39,"panel:true,formpanel:true,invoiceitempanel:true},[\"widget.invoiceitempanel",703253,87,"form.Panel,{loadPatientInvoice:function(a){this.setRecord(a)},updateSummary:function(){var m=this.down(\"label[name=subtotal]\");var g=this.down(\"label[name=tax1]\");var k=this.down(\"label[name=tax2]\");var p=this.down(\"label[name=tax1name]\");var d=this.down(\"label[name=tax2name]\");var a=this.down(\"label[name=total]\");var l=this.down(\"label[name=insuranceportion]\");var h=this.down(\"label[name=patientportion]\");var e=this.down(\"label[name=payments]\");var b=this.down(\"label[name=balance]\");var c=this.up(\"InvoicePanel\");var j=c.getSubtotal();var q=c.getTax1();var o=c.getTax2();var i=j+q+o;var f=c.getInsurancePortion();var n=c.getPatientPaymentsTotal();m.setHtml(j.toFixed(2));g.setHtml(q.toFixed(2));k.setHtml(o.toFixed(2));a.setHtml(i.toFixed(2));l.setHtml(f.toFixed(2));h.setHtml((i-f).toFixed(2));e.setHtml(n.toFixed(2));b.setHtml((i-f-n).toFixed(2));p.setHtml(c.getTax1Name());d.setHtml(c.getTax2Name())},",703351,100,"2",703452,81,"selectfield\",store:\"LocationStore\",margin:\"5 0 5 0\",label:\"\",labelWidth:\"0%\",readOnly:true,valueField:\"id\",displayField:\"name\",name:\"store_idstore\",title:\"Store",703726,52,"O\",labelWidth:\"20%\",readOnly:true,name:\"orderdate",703726,52,"P\",labelWidth:\"20%\",placeHolder:\"Not Promissed\",name:\"promisseddate",703726,53,"\",labelWidth:\"20%\",placeHolder:\"Open\",name:\"delivereddate\"",705007,149,703979,56,"0.00\",style:\"color: darkgrey\",name:\"subtotal",704064,182,",name:\"tax1name\"},{xtype:\"label\",html:\"0.00\",style:\"color: darkgrey\",name:\"tax1",704064,156,"2\",style:\"color: darkgrey\",name:\"tax2name\"},{xtype:\"label\",html:\"0.00\",style:\"color: darkgrey\",name:\"tax2",704064,153,703983,52,"0.00\",style:\"color: darkgrey\",name:\"total",704064,152,704918,57,"0.00\",style:\"color: darkgrey\",name:\"insuranceportion",704064,152,"Patient",704927,48,"0.00\",style:\"color: darkgrey\",name:\"patientportion",704064,152,705392,56,"0.00\",style:\"color: darkgrey\",name:\"payments",705477,196,"0.00\",style:\"color: black\",name:\"balance",705866,38,705737,70,"90,text:\"Pay\",handler:function(a){a.up(\"InvoicePanel\").pay()}},{xtype:\"button\",width:90,text:\"Deliver\",handler:function(a){a.up(\"InvoicePanel\").deliver()}",705867,106,"90,text:\"Print\",handler:function(a){a.up(\"InvoicePanel\").print()}",705989,36,"90,text:\"Email\",handler:function(a){a.up(\"InvoicePanel\").email()}",705867,37,706078,70,"90,text:\"Save\",handler:function(a){a.up(\"InvoicePanel\").save()}",706163,37,"90,text:\"Delete\",handler:function(a){a.up(\"InvoicePanel\").deleteInvoice()}",706217,76,"panel\",\"formpanel",706290,51,"panel:true,formpanel",706335,115,"AddPaymentPanel\",Ext.form.Panel,{addPayment:function(){var b=Ext.create(\"WINK.model.PatientPayment\");b.set(this.getValues());",698753,37,"ymentPanel\");a.loadItem(b);this.patientinvoicepanel.addPayment(a);Ext.Viewport.remove(this)},setPatientInvoicePanel:function(a){this.patientinvoicepanel=a;this.down(\"pricefield[name=amount]\").setValue(a.getPatientBalance())},config:{centered:true,fullscreen:false,layout:\"fit\",modal:true,hideOnMaskTap:true,scrollable:false,width:600,height:300",695750,46,"Add Payment",692765,161,"Method",692934,43,"PaymentMethodForCurrent",692985,37,",",665117,36,"},{xtype:\"textfield\",label:\"Description\",required:false,name:\"description\"},{xtype:\"pricefield\",label:\"Amount\",name:\"amount\",required",693211,39,"ui:\"action\",text:\"Add Payment\",handler:function(a){a.up(\"addpaymentpanel\").addPayment()}}]}]}]}},0,[\"addpayment",279247,40,",\"formpanel\",\"addpayment",620927,39,"panel:true,formpanel:true,addpaymentpanel:true},[\"widget.addpaymentpanel\"],0,[WINK.view,\"AddPaymen",710542,40,"ProductSearchResultsPanel\",Ext.Panel,{browse:function(){var a=Ext.create(\"Ext.data.TreeStore\",{model:\"WINK.model.ProductBrowseModel\",defaultRootProperty:\"items\",root:{},proxy:{type:\"ajax",649536,35,"products/browse\",withCredentials:true,useDefaultXhrHeader:false,cors:true}});this.down(\"nestedlist[winkname=browseproduct]\").setStore(a);this.setActiveItem(this.down(\"nestedlist[winkname=browseproduct]\"))},getStore:function(){if(!this.winkProductStore){this.winkProductStore=Ext.create(\"WINK.store.BarcodeResponseStore\");this.down(\"dataview\").setStore(this.winkProductStore)}return this.winkProductStore},selectProduct:function(b,a){this.setMasked(true);b.productretaildetails_product_idproduct().load({scope:this,callback:function(d,c,e){console.log(\"Loaded product retails pricing \");this.up(\"InvoicePanel\").addProductToInvoice(b,a);this.setMasked(false)}})},find:function(a){WINK.Utilities.showWorking();this.setMasked(true);this.setActiveItem(this.down(\"list[winkname=searchproduct]\"));this.getStore().setData([]",696940,53,"products/find/\"+encodeURIComponent(a),method:\"GET\",scope:this,withCredentials:true,useDefaultXhrHeader:false,success:function(d){console.log(\"product lookup success \"+d.responseText);var b=Ext.JSON.decode(d.responseText);console.log(\"product lookup success products returned:\"+b.length);if(b.length===0){Ext.Msg.alert(\"Product Lookup\",\"No Products Found For:\"+a,Ext.emptyFn)}else{if(b.length===1){console.log(\"product lookup returned 1 product\");var e=Ext.create(\"WINK.model.BarcodeResponse\",b[0]);var g=e.getFkproduct_idproduct();var c=e.getFkbarcode_idbarcode();console.log(\"product:\"+g.get(\"id\")+\" \"+g.get(\"name\"));this.selectProduct(g,c)}else{for(var f=0;f<b.length;f++){var e=Ext.create(\"WINK.model.BarcodeResponse\",b[f]);this.getStore().add(e)}this.getStore().sortList()}}WINK.Utilities.hideWorking();this.unmask()},failure:function(b",725612,60,"b,\"Product Lookup\")},callback:function(c,d,b){}})},config:{layout:\"card\",cls:\"productListDataViewContainer\",items:[{xtype:\"list\",winkname:\"searchproduct",700307,46,"itemTpl:\"{fkproduct_idproduct.name}\",listeners:{itemtap:function(b,c,g,a,f,d){}},onItemDisclosure:function(c,d,b){var e=c.getFkproduct_idproduct();var a=c.getFkbarcode_idbarcode();d.up(\"productsearchresultspanel\").selectProduct(e,a)}},{xtype:\"nestedlist\",winkname:\"browseproduct\",displayField:\"name\",listeners:{itemtap:function(b,c,g,a,f,d){},leafitemtap:function(c,e,a,b){var b=e.getStore().getAt(a);if(b.get(\"type\")===2){var d=b.getFkproduct_idproduct();e.up(\"productsearchresultspanel\").selectProduct(d",505877,38,"'<div class=\"item-title\">{name}</div><tpl if=\"leaf === true\"><div class=\"x-list-disclosure\"></div></tpl>'}}]}},0,[\"productsearchresults",279247,40,",\"productsearchresults",620927,39,"panel:true,productsearchresultspanel:true},[\"widget.productsearchresultspanel\"],0,[WINK.view,\"ProductSearchResults",710543,39,"InvoicePanel\",Ext.form.Panel,{deliver:function(){this.getInvoiceSummary().down(\"datepickerfield[name=delivereddate]\").setValue(new Date());this.save()},isDirty:function(){},deleteInvoice:function(){this.setMasked(true)},save:function(){this.setMasked(true);this.updateInvoiceModel();var d=this;var a=this.patientinvoice;var b=this.patientinvoice.get(\"id\");var c=d.up(\"PatientHistoryPanel\");console.info(\"InvoicePanel.save() before Ajax, historyPanel:\"+c+\" \"+this.patientinvoice.get(\"delivereddate\"));this.patientinvoice.save({success:function(e){console.info(\"save invoice success\");console.info(\"historyPanel:\"+c);var f=a.get(\"id\");console.info(b+\" vs \"+a.get(\"id\"));var g=Ext.ModelManager.getModel(\"WINK.model.PatientInvoice\");console.info(\"calling load:\"+g+\" \"+f);g.load(f,{scope:this,failure:function(h,i){console.info(\"InvoicePanel.save().PatientInvoice.load().failure()\")},success:function(i,j){var h=i;console.info(\"InvoicePanel.save().PatientInvoice.load().success()\");console.info(\"InvoicePanel.save().PatientInvoice.load():\"+f+\" \"+h.get(\"id\"));if(f!==b){console.info(b+\" !== \"+f);if(c){console.info(\"calling historyPanel.updateInvoiceId()\");c.updateInvoiceId(b,h)}}else{console.info(b+\" = \"+f)}console.info(document.location.href);if(document.location.href.indexOf(\"#newquicksale\")>=0){document.location.href=\"#invoice/\"+h.get(\"id\")}else{d.loadPatientInvoice(h);if(c){console.info(\"historyPanel.invoiceSaved()\");c.invoiceSaved(d)}}}})},failure:function(e){},callback:function(f,g,e){d.setMasked(false)}})},pay:function(){var a=Ext.create(\"WINK.view.AddPaymentPanel\");Ext.Viewport.add(a);a.setPatientInvoicePanel(this)},addPayment:function(b){var a=this.patientinvoice;if(!this.payments){this.payments=[]}this.payments[this.payments.length]=b;this.getPaymentsContainer().add(b);this.updateNoPaymentsPanel();this.updateSummary();this.save()},deleteInvoice:function(){alert(\"not implemented\")},email:function(){this.save()},print:function(){this.save()},isFullyLoaded:function(){if(!this.isPaymentsLoaded){return false}if(!this.isInvoiceItemsLoaded){return false}return this.isPaymentsLoaded&&this.isInvoiceItemsLoaded},updatePaymentsModel:function(){var a=[];for(var b=0;b<this.payments.length;b++){console.log(\"updatePaymentsModel() \"+b);a.push(this.payments[b].updateModel())}return a},updateItemsModel:function(){var a=[];for(var b=0;b<this.invoiceitems.length;b++){console.log(\"InvoicePanel.updateItemsModel() i=\"+b);a.push(this.invoiceitems[b].updateModel())}console.log(\"InvoicePanel.updateItemsModel() length \"+a.length);return a},updateInvoiceModel:function(){console.log(\"InvoicePanel.updateInvoiceModel()\");var a=this.getInvoiceSummary().getValues();for(var b=0;b<a.length;b++){console.log(b+\" \"+a[0])}this.patientinvoice.set(a);var e=this.patientinvoice.patientpayments_patientinvoice_idpatientinvoice();var c=this.patientinvoice.patientinvoiceitems_patientinvoice_idpatientinvoice();var d=this.patientinvoice.rxworksheets_patientinvoice_idpatientinvoice();e.setData(this.updatePaymentsModel());c.setData(this.updateItemsModel());console.log(\"InvoicePanel.updateInvoiceModel() count of items\"+c.getCount());c.each(function(f){console.log(\"InvoicePanel.updateInvoiceModel invoiceItemsStore.each():\"+f)});return this.patientinvoice},loadPatientInvoice:function(b){this.setMasked(true);this.patientinvoice=b;console.log(\"InvoicePanel.loadPanelInvoice() \"+b.get(\"id\"));this.isPaymentsLoaded=false;this.isInvoiceItemsLoaded=false;var h=this.getInvoiceItemsContainer();this.clearInvoiceItemsContainer();this.clearInvoicePaymentsContainer();this.removeAttachementCarousel();if(!b.get(\"patient_idpatient\")||b.get(\"patient_idpatient\")===0){if(!b.get(\"delivereddate\")){b.set(\"delivereddate\",b.get(\"orderdate\"))}this.getInvoiceSummary().down(\"datepickerfield[name=delivereddate]\").hide();this.getInvoiceSummary().down(\"datepickerfield[name=promisseddate]\").hide();this.down(\"segmentedbutton[winkname=addworksheetbuttons]\").hide()}else{this.getInvoiceSummary().down(\"datepickerfield[name=delivereddate]\").show();this.getInvoiceSummary().down(\"datepickerfield[name=promisseddate]\").show();this.down(\"segmentedbutton[winkname=addworksheetbuttons]\").show()}this.setRecord(b);var e=this.down(\"label[name=id]\");if(WINK.Utilities.isKeyNull(b)){e.setHtml(\"New Invoice\")}else{e.setHtml(\"i\"+b.get(\"id\"))}this.getInvoiceSummary().loadPatientInvoice(b);var g=b.patientinvoiceitems_patientinvoice_idpatientinvoice();var a=b.patientpayments_patientinvoice_idpatientinvoice();var d=b.rxworksheets_patientinvoice_idpatientinvoice();var f=b.clworksheets_patientinvoice_idpatientinvoice();g.load({scope:this,callback:function(j,i,k){console.log(\"Loaded invoice items \");this.itemsLoaded()}});a.load({scope:this,callback:function(j,i,k){console.log(\"Loaded invoice payments \");this.paymentsLoaded()}});d.load({scope:this,callback:function(j,i,k){console.log(\"Loaded rxworksheets \");d.each(function(n,l,m){console.log(\"invoice rx.each() \"+l);this.addRxWorksheet(n)},this)}});var c=b.invoiceattachements_patientinvoice_idpatientinvoice();c.load({scope:this,callback:function(j,i,k){console.log(\"Loaded invoice attachments \");c.each(function(n,l,m){console.log(\"invoice attachments.each() \"+l);n.getFkuploads_iduploads(function(p,o){this.addAttachementToUI(p)},this)},this)}});this.unmask()},itemsLoaded:function(){this.clearInvoiceItemsContainer();var a=this.patientinvoice;var c=this.getInvoiceItemsContainer();var b=a.patientinvoiceitems_patientinvoice_idpatientinvoice();b.each(function(f,d,e){console.log(\"InvoicePanel.itemsLoaded() patientinvoiceitemsStore.each() \"+d);var g=Ext.create(\"WINK.view.InvoiceItemPanel\");if(!this.invoiceitems){this.invoiceitems=[]}this.invoiceitems[d]=g;c.add(g);g.loadItem(f)},this);this.updateNoItemsPanel();this.isInvoiceItemsLoaded=true;if(this.isFullyLoaded()){this.unmask()}},updateNoItemsPanel:function(){if(this.invoiceitems){if(this.invoiceitems.length===0){if(this.noItemsPanelAdded){return}this.getInvoiceItemsContainer().add(this.getNoItemsPanel());this.noItemsPanelAdded=true}else{if(this.noItemsPanelAdded){this.getInvoiceItemsContainer().remove(this.getNoItemsPanel())}this.noItemsPanel=null;this.noItemsPanelAdded=false}}},updateNoPaymentsPanel:function(){if(this.payments){if(this.payments.length===0){if(this.noPaymentsPanelAdded){return}this.getPaymentsContainer().add(this.getNoPaymentsPanel());this.noPaymentsPanelAdded=true}else{if(this.noPaymentsPanelAdded){this.getPaymentsContainer().remove(this.getNoPaymentsPanel())}this.noPaymentsPanel=null;this.noPaymentsPanelAdded=false}}},getNoPaymentsPanel:function(){if(!this.noPaymentsPanel){this.noPaymentsPanel",698758,32,"ymentPanel\",{items:[{xtype:\"label\",html:\"No Payments Received\",margin:\"0 5 0 5\",style:'font-size:15px; font-family:\"open sans\"',height:20}]})}return this.noPaymentsPanel},getNoItemsPanel:function(){if(!this.noItemsPanel){this.noItemsPanel",698758,32,"ymentPanel\",{items:[{xtype:\"label\",html:\"No Items Sold. Look for products to add to the invoice.\",margin:\"0 5 0 5\",style:'font-size:15px; font-family:\"open sans\"',height:20}]})}return this.noItemsPanel},paymentsLoaded:function(){this.clearInvoicePaymentsContainer();var b=this.patientinvoice;var c=this.getPaymentsContainer();var a=b.patientpayments_patientinvoice_idpatientinvoice();a.each(function(g,e,f){var d",698758,32,"ymentPanel\");if(!this.payments){this.payments=[]}this.payments[e]=d;c.add(d);d.loadItem(g)},this);this.updateNoPaymentsPanel();this.isPaymentsLoaded=true;if(this.isFullyLoaded()){this.unmask()}},getInvoiceSummary:function(){return this.down(\"InvoiceSummary\")},getPaymentsContainer:function(){return this.down(\"container[winkname=invoicepaymentscontainer]\")},getInvoiceItemsContainer:function(){return this.down(\"container[winkname=invoiceitemscontainer]\")},clearInvoiceItemsContainer:function(){this.getInvoiceItemsContainer().removeAll(true,false);this.invoiceitems=[];this.noItemsPanel=null;this.noItemsPanelAdded=false},clearInvoicePaymentsContainer:function(){this.getPaymentsContainer().removeAll(true,false);this.payments=[];this.noPaymentsPanel=null;this.noPaymentsPanelAdded=false},deletePayment:function(b){for(var a=0;a<this.payments.length;a++){if(this.payments[a]===b){this.payments.splice(a,1);this.getPaymentsContainer().remove(b);break}}this.updateNoPaymentsPanel();this.updateSummary()},deleteItem:function(b){for(var a=0;a<this.invoiceitems.length;a++){if(this.invoiceitems[a]===b){this.invoiceitems.splice(a,1);this.getInvoiceItemsContainer().remove(b);break}}this.updateNoItemsPanel();this.updateSummary()},getListedUnitPrice:function(b,c){var a=0;var d=this.getProductRetailDetails(b,c);if(d){a=d.get(\"retailpriceto\")}console.log(\"returning:\"+a);return a},getCurrentStoreId:function(){var a=this.getInvoiceSummary().down(\"selectfield[name=store_idstore]\").getRecord();return a.get(\"id\")},getOrderDate:function(){return this.getInvoiceSummary().down(\"datepickerfield[name=orderdate]\").getValue()},getProductRetailDetails:function(b,c){c=c||this.getCurrentStoreId();var d=null;var a=b.productretaildetails_product_idproduct();a.each(function(e,f,g){console.log(\"lookgin for retail price:\"+e.get(\"store_idstore\")+\" \"+e.get(\"retailpriceto\"));if((e.get(\"store_idstore\")==null)||(e.get(\"store_idstore\")===0)||(e.get(\"store_idstore\")===c)){d=e;if(e.get(\"store_idstore\")===c){return}}},this);return d},getTaxCodeId:function(b){var a=this.getProductRetailDetails(b);if(!a){return null}return a.get(\"taxcode_idtaxcode\")},addProductToInvoice:function(f,b){var d=this.getListedUnitPrice(f,this.getCurrentStoreId());console.log(\"default price is:\"+d);var h=this.getInvoiceItemsContainer();var c=null;if(b){c=b.get(\"id\")}var e=this.getTaxCodeId(f);console.log(\"Tax Code ID is:\"+e);var a=Ext.creat",661087,34,"{qty:1,product_idproduct:f.get(\"id\"),fkproduct_idproduct:f,prediscount_unitprice:d,barcode_idbarcode:c,fkbarcode:b,taxcode_idtaxcode:e});console.log(\"newInvoiceItem unit price is:\"+a.get(\"prediscount_unitprice\"));var g=Ext.create(\"WINK.view.InvoiceItemPanel\");if(!this.invoiceitems){this.invoiceitems=[]}this.invoiceitems[this.invoiceitems.length]=g;this.getInvoiceContainer().setActiveItem(h);h.add(g);g.loadItem(a);g.recalculateTax();this.updateNoItemsPanel();this.down(\"textfield[winkname=searchProductField]\").setValue(\"\")},getSubtotal:function(){var a=0;if(this.invoiceitems){for(var b=0;b<this.invoiceitems.length;b++){console.log(\"invoicePanel getSubtTotal():\"+b+\" of \"+this.invoiceitems.length+\" = \"+a);a+=this.invoiceitems[b].getSubtotal()}}console.log(\"invoicePanel getSubtTotal() sum \"+a);return a},getTax1:function(){var b=0;if(this.invoiceitems){for(var a=0;a<this.invoiceitems.length;a++){b+=this.invoiceitems[a].getTax1()}}return b},getTax2:function(){var b=0;if(this.invoiceitems){for(var a=0;a<this.invoiceitems.length;a++){b+=this.invoiceitems[a].getTax2()}}return b},getInsurancePortion:function(){var a=0;return a},getPatientBalance:function(){var a=this.getSubtotal();var d=this.getTax1();var b=this.getTax2();var e=a+d+b;var c=this.getInsurancePortion();var f=this.getPatientPaymentsTotal();return e-c-f},getPatientPaymentsTotal:function(){var b=0;if(this.payments){for(var a=0;a<this.payments.length;a++){b+=this.payments[a].getAmount()}}return b},getTax1Name:function(){var b=null;if(this.invoiceitems){for(var c=0;c<this.invoiceitems.length;c++){var a=this.invoiceitems[c].getTax1Name();if(a&&a.trim().length>0){if(b&&b.length>0){if(b.toUpperCase()===a.trim().toUpperCase()){}else{b=\"Tax 1\";break}}else{b=a.trim()}}}}return b||\"Tax 1\"},getTax2Name:function(){var b=null;if(this.invoiceitems){for(var c=0;c<this.invoiceitems.length;c++){var a=this.invoiceitems[c].getTax2Name();if(a&&a.trim().length>0){if(b&&b.length>0){if(b.toUpperCase()===a.trim().toUpperCase()){}else{b=\"Tax 2\";break}}else{b=a.trim()}}}}return b||\"Tax 2\"},updateSummary:function(){this.getInvoiceSummary().updateSummary()},getInvoiceContainer:function(){return this.down(\"container[winkname=invoicecontainer]\")},getSearchProductsContainer:function(){if(!this.searchProductsContainer){this.searchProductsContainer=Ext.create(\"WINK.view.ProductSearchResultsPanel\",{title:\"Product Seach\",iconCls:\"info\"})}this.getInvoiceContainer().setActiveItem(this.searchProductsContainer);return this.searchProductsContainer},searchProducts:function(){var b=this.down(\"textfield[winkname=searchProductField]\");var a=b.getValue();if((a!=null)&&(a.trim().length>0)){console.log(\"looking for products with \"+b);this.getSearchProductsContainer().find(a)}},addAttachementToUI:function(a){var b=Ext.create(\"Ext.Panel\",{html:\"<img width='95%' src='data:image/png;base64,\"+a.get(\"data\")+\"'/>\"});this.getAttachementCarousel().add(b)},removeAttachementCarousel:function(){if(this.attachementCarousel){this.getInvoiceContainer().remove(this.attachementCarousel);this.attachementCarousel=null}},getAttachementCarousel:function(){if(!this.attachementCarousel){this.attachementCarousel=Ext.create(\"Ext.Carousel\",{defaults:{styleHtmlContent:true},items:[],iconCls:\"more\",title:\"Attachment(s)\"})}this.getInvoiceContainer().setActiveItem(this.attachementCarousel);return this.attachementCarousel},browseProducts:function(){this.getSearchProductsContainer().browse()},uploadImage:function(c){console.info(\"uploading image...\");var b=this;b.setMasked(true);var a=Ext.create(\"WINK.model.Upload\",{data:c,mimetype:\"image/png\"});a.save({success:function(d){console.info(\"upload image done: \"+a.get(\"id\"));var e=Ext.creat",650053,34,"{uploads_iduploads:a.get(\"id\")});this.patientinvoice.invoiceattachements_patientinvoice_idpatientinvoice().add(e);this.addAttachementToUI(a)},failure:function(d){console.info(\"upload image error!\");Ext.Msg.alert(\"Image Upload Failed\",\"Something went wrong! Please try again.",697540,34,"e,f,d){b.setMasked(false)}},this)},config:{layout:\"hbox\",centered",692686,39,"container\",flex:1",703454,40,706618,95,"65",706715,81,707008,35,"},items:[{xtype:\"label\",name:\"id\",readOnly:true,html:\"\",margin:\"0 2 0 20\",style:'font-size:15px; font-family:\"open sans\"',flex:1",705869,37,707724,57,"\",cls:\"buttonSquare\",height:45,width:70,handler:function(a){var b=a.up(\"InvoicePanel\");Ext.device.Camera.capture({success:function(c){b.uploadImage(c)},quality:75,scope:b,source:\"camera\",destination:\"data\",encoding:\"png\"})}},{xtype:\"button\",text:\"Lib\",cls:\"buttonSquare\",height:45,width:70,handler:function(a){var b=a.up(\"InvoicePanel\");Ext.device.Camera.capture({success:function(c){b.uploadImage(c)},quality:75,scope:b,source:\"library\",destination:\"data\",encoding:\"png\"})}",707785,35,",hidden:true",707822,37,706829,338,",winkname:\"searchProductField",707166,90,",handler:function(a){a.up(\"InvoicePanel\").searchProducts()}",707167,47,707303,56,"Browse\",handler:function(a){a.up(\"InvoicePanel\").browseProducts()}",707369,181,"container\",flex:1",705869,37,"5 5 5\",allowToggle:false,winkname:\"addworksheetbuttons",714884,41,"17\",text:\"+ Rx\",cls:\"buttonSquare\",height:45,width:70,handler:function(a,b){a.up(\"InvoicePanel\").newRxWorksheet()}},{xtype:\"button\",text:\"+ CL\",cls:\"buttonSquare\",height:45,width:70",707820,139,"winkname:\"invoiceitemsheader",705584,37,"\",margin:\"5 2 0",708021,195,"Discount",708111,52,"otal",708111,51,708272,50,707847,112,"winkname:\"paymentsheader\",hidden:true,items:[{xtype:\"label\",html:\"Date\",margin:\"5 2 0 2\",width:150},{xtype:\"label\",html:\"Method\",margin:\"5 2 0 0\",width:150},{xtype:\"label\",flex:1,html:\"Description\",margin:\"5 2 0 0\"},{xtype:\"label\",html:\"Amount",708111,51,"\",margin:\"5 2 0 2\",width:50}]},{xtype:\"tabpanel\",flex:1,scrollable:false",708328,102,"winkname:\"invoicecontainer\"",708718,36,",listeners:{activeitemchange:function(b,d,a,c){console.log(\"InvoicePanel tabpanel activeitemchange\");if(d instanceof WINK.view.JobStatusPanel){d.loadStatusOnce()}if(d===b.down(\"container[winkname=invoiceitemscontainer]\")){b.up(\"InvoicePanel\").down(\"container[winkname=invoiceitemsheader]\").show()}else{b.up(\"InvoicePanel\").down(\"container[winkname=invoiceitemsheader]\").hide()}if(d===b.down(\"container[winkname=invoicepaymentscontainer]\")){b.up(\"InvoicePanel\").down(\"container[winkname=paymentsheader]\").show()}else{b.up(\"InvoicePanel\").down(\"container[winkname=paymentsheader]\").hide()}}},items:[{xtype:\"container\"",708328,109,"{type:\"vbox\"},scrollable:\"vertical\",iconCls:\"more\",title:\"Items Sold\",winkname:\"invoiceitemscontainer\"},{xtype:\"container\"",708328,109,"{type:\"vbox\"},scrollable:\"vertical\",iconCls:\"more\",title:\"Payment(s)\",winkname:\"invoicepaymentscontainer\"},{xtype:\"jobstatuspanel\",title:\"Job Status\",iconCls:\"settings\"}]}]}]},{xtype:\"InvoiceSummary\"}]},newRxWorksheet:function(){var a=Ext.create(\"WINK.model.RxWorksheet\");this.patientinvoice.rxworksheets_patientinvoice_idpatientinvoice().add(a);tabPanel.setActiveItem(this.addRxWorksheet())},addRxWorksheet:function(d){var c=\"New Rx\";if(d.get(\"id\")>0){c=\"R\"+d.get(\"id\")}var a=Ext.create(\"WINK.view.RxWorksheetPanel\",{title:c});var b=this.down(\"tabpanel\");b.add(a);a.loadRxWorksheet(d);return a",708984,56,"form",709032,65,"form",709086,790,"form.Panel,{loadRxWorksheet:function(a){this.setRecord(a)},config:{border:\"0 0 1 0\"",701855,51,694109,33,"{type:\"v",709932,35,709906,77,"150,title:\"Far PD",720656,35,"R\",labelWidth:\"20%\",name:\"r_farpd\"},{xtype:\"textfield\",label:\"L\",labelWidth:\"20%\",name:\"l_farpd\"}]},{xtype:\"fieldset\",width:150,title:\"Near PD",720656,35,"R\",labelWidth:\"20%\",name:\"r_closepd\"},{xtype:\"textfield\",label:\"L\",labelWidth:\"20%\",name:\"l_closepd\"}]},{xtype:\"fieldset\",width:150,title:\"Heigh",720655,36,"R\",labelWidth:\"20%\",name:\"r_height\"},{xtype:\"textfield\",label:\"L\",labelWidth:\"20%\",name:\"l_height\"}]}]},",709898,85,"500,title:\"Frame",709997,37,"Source\",name:\"framesrc\",options:[{text:\"Patient Own Frame\",value:0},{text:\"From Stock\",value:1},{text:\"To Order\",value:2}]}]}]},",709898,85,"500,items:[{xtype:\"textareafield\",label:\"Lab Instructions\",maxRows:4,name:\"labinstructions\"}]",710426,45,606574,72,710516,4434,",action:\"go",714945,4329,"patientSaved:function(a){",719272,84,"savePatient:function(b){alert(\"save Patient\");",719297,51,"Sav",719351,32,719386,56,721886,49,686080,52,691772,53,",withCredentials:true,useDefaultXhrHeader:false}});var d",719782,54,"a",719837,52,"c",719549,39,"a.setStore(e);var b",719612,41,"b.clearFilter();console.log(\"number of provinces in main store\"+b.getData().length);e.setData(b.getRange());return e",719699,463,"{single:true,fn:function(b,a){console.log(\"PatientPanel.activate()\");",720176,92,720267,99,"Back",720378,766,"phone",721148,41,"phone",721193,41,"phone",721238,41,"phone",721283,597,721952,1674,"Back",699647,45,723683,479,"phone",724166,1285,"withCredentials:true,useDefaultXhrHeader:false,cors:true",725450,66,"set",725520,36,725562,388,699458,37,"newPhoto:function(){},newAttachment:function(){},newInvoice:function(){var c=this.getHistoryList().getStore();var b=Ext.create(\"WINK.model.PatientInvoice\");WINK.Utilities.setDefaultValues(b);b.set(\"patient_idpatient\",this.patient.get(\"id\"));this.patient.patientinvoices_patient_idpatient().add(b);console.log(\"New Invoice ID:\"+b.get(\"id\"));var a=Ext.creat",663397,34,"{type:4,modelid:b.get(\"id\"),label:b.get(\"orderdate\").getFullYear()+\"-\"+(b.get(\"orderdate\").getMonth()+1)+\"-\"+b.get(\"orderdate\").getDate(),icon:\"\",date:b.get(\"orderdate\")});c.add(a);this.openHistoryItem(a)},updateInvoiceId:function(c,d){var b=d.get(\"id\");var f=this.patient.patientinvoices_patient_idpatient();var a=f.getById(c);if(a){f.remove(a)}f.add(d);var e=this.getHistoryList().getStore();e.each(function(i,g,h){if((i.get(\"type\")===4||i.get(\"type\")===5)){if(i.get(\"modelid\")===c){i.set(\"modelid\",b)}}},this);if(!this[\"invoicePanels\"+c.toString()]){this[\"invoicePanels\"+b.toString()]=this[\"invoicePanels\"+c.toString()];this[\"invoicePanels\"+c.toString()]=null}},updateInvoiceHistoryItem:function(c,a){var b=4;if(a.get(\"delivereddate\")){b=5}c.set(\"type\",b);c.set(\"label\",a.get(\"orderdate\").getFullYear()+\"-\"+(a.get(\"orderdate\").getMonth()+1)+\"-\"+a.get(\"orderdate\").getDate());c.set(\"date\",a.get(\"orderdate\"));c.set(\"modelid\",a.get(\"id\"))},invoiceSaved:function(d){var a=this.getHistoryList().getStore();var c=d.getRecord().get(\"id\");var b=d.getRecord();console.log(\"invoiceSaved:\"+c);a.each(function(g,e,f){if((g.get(\"type\")===4||g.get(\"type\")===5)&&g.get(\"modelid\")===c){this.updateInvoiceHistoryItem(g,b)}},this);a.sortHistory()},newExam:function(){},saveClicked:function(){if(this.patientView){this.patientView.savePatient()}},loadPatient:function(a){console.log(\"PatientHistoryPanel.loadPatient()\"+a.get(\"id\"));this.patient=a;var b=this.down(\"toolbar\");b.setTitle(a.get(\"lastname\")+\" \"+a.get(\"firstname\"));var c=a.patientinvoices_patient_idpatient();c.load({scope:this,callback:function(e,d,f){console.log(\"Loaded invoices \");this.loadPatientHistoryStore()}})},getHistoryList:function(){return this.down(\"list\")},loadPatientHistoryStore:function(){var b=this.patient;console.log(\"PatientHistoryPanel.loadPatientHistoryStore()\"+b.get(\"id\"));var e=b.patientinvoices_patient_idpatient();var c=",700359,44,";var d=b.get(\"lastname\")+\" \"+b.get(\"firstname\");console.log(\"PatientHistoryPanel.loadPatientHistoryStore() fullname:\"+d);this.getHistoryList().setStore(c);var a=Ext.creat",663397,34,"{type:0,modelid:b.get(\"id\"),label:d,icon:\"\",date:\"\"});c.add(a);e.each(function(i,g,h){var f=Ext.creat",663397,33,");this.updateInvoiceHistoryItem(f,i);c.add(f)},this);c.sortHistory();this.openHistoryItem(a)},openHistoryItem:function(e){this.setMasked(true);var h=this.patient;var g=this.getHistoryList();var i=e.get(\"type\");var a=e.get(\"modelid\");console.log(\"PatientHistoryPanel.openHistoryItem()\"+i+\".\"+a);g.select(e,false,true);var f=this.down(\"container[winkname=patientmaincontainer]\");if(i===0){var b=false;if(!this.patientView){this.patientView",698878,43,"patientView.down(\"toolbar\").hide();b=true}f.setActiveItem(this.patientView);if(b===true){this.patientView.setRecord(h)}}else{if((i===4)||(i===5)){var d=null;var b=false;if(!this[\"invoicePanels\"+a.toString()]){d",698758,42,"[\"invoicePanels\"+a.toString()]=d;b=true}else{d=this[\"invoicePanels\"+a.toString()]}f.setActiveItem(d);if(b){var c=h.patientinvoices_patient_idpatient().getById(a);this[\"invoicePanels\"+a.toString()].loadPatientInvoice(c)}}}this.unmask()},config:{listeners:{activate:{scope:this,fn:function(){}}},scrollable:false,layout:\"hbox\",masked:true",699532,45,"Loading Patient...",723584,42,"Back",699647,113,"winkname:\"newoverlay\"",699759,410,",listeners:{itemtap:function(d,f,j,c,i,g){d.up(\"panel[winkname=newoverlay]\").hide();var h=Ext.ComponentQuery.query(\"PatientHistoryPanel\")[0];if(f===0){h.newExam()}else{if(f===1){h.newInvoice()}else{if(f===2){h.newAttachment()}else{if(f===3){h.newPhoto()}}}}}}",700169,47,"Save\",ui:\"action\",listeners:{tap:function(a){a.up(\"PatientHistoryPanel\").saveClicked(",700274,79,"itemTpl:\"{label}\",border:\"0 1 0 0\"",701855,41," darkgrey;\",listeners:{itemtap:function(b,c,g,a,f,d){b.up(\"PatientHistoryPanel\").openHistoryItem(a)}}},{xtype:\"container\",flex:1",695371,40,"winkname:\"patientmaincontainer\"}]}},0,[\"PatientHistory",700464,42,"PatientHistory",695871,39,"panel:true,PatientHistoryPanel:true},[\"widget.PatientHistory",700598,70,"view.InvoicePaymentPanel\",Ext.form.Panel,{deleteItem:function(){var a=this.up(\"InvoicePanel\");a.deletePayment(this)},loadItem:function(a){this.setRecord(a)},getAmount:function(){var a=this.down(\"numberfield[name=amount]\");return a.getValue()},updateModel:function(){var b=this.getRecord();var a=this.getValues();b.set(a);return b},updateInvoiceBalance:function(){var a=this.up(\"InvoicePanel\");if(a){a.updateSummary()}},",701802,51,"5",701854,120,"datepickerfield\",required:true,margin:\"0 2 0 2\",usePicker:true,name:\"date\",width:150,style:\"borderInput\"},{xtype:\"selectfield\",required:true,margin:\"0 2 0 0\",displayField:\"name\",store:\"PaymentMethodForCurrent",692985,37,",width:150,",665117,37,"style:\"borderInput\"},",707066,37,702144,37,"flex:1",702190,40,"name:\"description\"},{xtype:\"price",702119,117,"0",702421,62,"-999999,name:\"amount\",listeners:{change:function(a,c,b){a.up(\"invoicepaymentpanel\").updateInvoiceBalance()}}",702890,83,",handler:function(a){a.up(\"invoicepaymentpanel\").deleteItem()}}]}},0,[\"invoicepayment",279247,40,",\"formpanel\",\"invoicepayment",620927,39,"panel:true,formpanel:true,invoicepaymentpanel:true},[\"widget.invoicepaymentpanel\"],0,[WINK.view,\"InvoicePaymentPanel",727130,45,"JobStatusWrapper\",\"BarcodeResponse\",",727174,183,727374,202,",\"ProductBrowseModel\",\"RxWorksheet\",\"ClWorksheet\"],stores:[\"ProductStore\",",727586,134,",\"JobStatusStore\",\"PaymentMethodStore\"],views:[\"JobStatusPanel\",\"PhoneField\",\"PriceField\",\"IntField\",",727729,361,",\"ProductSearchResultsPanel\",\"AddPaymentPanel\",\"InvoicePayment",728084,113,728224,598,"Ajax.cors=true;Ext.Ajax.useDefaultXhrHeader=false;Ext.Ajax.withCredentials=true;Ext.data.proxy.Ajax.useDefaultXhrHeader=false;Ext.data.proxy.Ajax.withCredentials=true;",728818,213,"console.log(\"WINK.JSON, encode date\");",729031,190,"data.writer.Json.override({getRecordData:function(b){console.log(\"getRecordData\");var e=this,d,a,g,f=b.data;for(d=0;d<b.associations.length;d++){a=b.associations.get(d);var c=a.getName();console.log(d+\" association \"+c+\" \"+a.getType());if(a.getType()===\"hasmany\"){console.log(c+\" \"+a.getAssociationKey());f[c]=null;g=b[c]();console.log(\"child store:\"+g);g.each(function(h){console.log(\"childStore.each():\"+h);if(!f[c]){f[c]=[]}var i=this.getRecordData.call(this,h);if(h.dirty|h.phantom|(i!=null)){f[c].push(i);b.setDirty()}},e);Ext.each(g.getRemovedRecords(),function(i){if(!f[c]){f[c]=[]}i.set(\"forDeletion\",true);var h=this.getRecordData.call(this,i);f[c].push(h);b.setDirty()},e)}}if(b.dirty|b.phantom|b.get(\"forDeletion\")){return f}}});WINK.Utilities.getAccountId(function(){console.log(\"app.js get Account id callback\");var b=Ext.create(\"WINK.store.CountryStore\",",686079,53,692118,41,",withCredentials:true,useDefaultXhrHeader:false}});b.load();var a=Ext.create(\"WINK.store.LocationStore\",",686079,53,690173,38,",withCredentials:true,useDefaultXhrHeader:false}});a.load()",729216,171,")},onUpdated:function(){window.location.reload()}});(Ext.cmd.derive(\"WINK.store.BarcodeResponseStore\",Ext.data.Store,{sortList:function(){this.sort([{property:\"isInventory\",direction:\"ASC\"},{property:\"storeInventory\",direction:\"DESC\"},{property:\"entrepriseInventory\",direction:\"DESC\"},{property:\"fkproduct_idproduct.name\",direction:\"ASC\"}])},",690567,34,"BarcodeRespons",690630,32,"if(!a.get(\"isInventory\")){return\"Services and Non Inventory Products\"}if(a.get(\"storeInventory\")>0){return\"Found in Current Store\"}if(a.get(\"entrepriseInventory\")>0){return\"Found in Another Store\"}return\"Not Found In Inventory\"},sortProperty:\"type\"},sorters:[{property:\"isInventory\",direction:\"ASC\"},{property:\"storeInventory\",direction:\"DESC\"},{property:\"entrepriseInventory\",direction:\"DESC\"},{property:\"fkproduct_idproduct.",690233,51,"BarcodeRespons",690496,35,729614,1232]