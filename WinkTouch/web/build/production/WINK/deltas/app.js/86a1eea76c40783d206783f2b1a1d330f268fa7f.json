["function _92f52cadce8bee5bfed6ee4a7d111d57379f2a89",50,603,"amera){Ext.device.camera",633,510867,"camera.Abstract\",Ext.Base,{source:{library:0,camera:1,album:2},destination:{data:0,file:1,\"native\":2},encoding:{jpeg:0,jpg:0,png:1},media:{picture:0,video:1,all:2},direction:{back:0,front:1},capture:Ext.emptyFn,getPicture:Ext.emptyFn,cleanup:Ext.emptyFn},0,0,0,0,0,0,[Ext.device.camera",157310,38,"device.camera.Cordova\",Ext.device.camera",205648,35,"device.camera.PhoneGap\",getPicture:function(d,b,a){try{navigator.camera.getPicture(d,b,a)}catch(c){alert(c)}},cleanup:function(c,a){try{navigator.camera.cleanup(c,a)}catch(b){alert(b)}},capture:function(h){var f=h.success,d=h.failure,j=h.scope,b=this.source,e=this.destination,g=this.encoding,a=h.source,i=h.destination,c=h.encoding,k={};if(j){f=Ext.Function.bind(f,j);d=Ext.Function.bind(d,j)}if(a!==undefined){k.sourceType=b.hasOwnProperty(a)?b[a]:a}if(i!==undefined){k.destinationType=e.hasOwnProperty(i)?e[i]:i}if(c!==undefined){k.encodingType=g.hasOwnProperty(c)?g[c]:c}if(\"quality\" in h){k.quality=h.quality}if(\"width\" in h){k.targetWidth=h.width}if(\"height\" in h){k.targetHeight=h.height}this.getPicture(f,d,k)}},0,0,0,0,0,0,[Ext.device.camera,\"Cordova\",Ext.device.camera",512782,45,"camera.Sencha\",Ext.device.camera.Abstract,{capture:function(d){var c=this.source,b=this.destination,f=this.encoding,g=d.source,a=d.destination,e=d.encoding;if(c.hasOwnProperty(g)){g=c[g]}if(b.hasOwnProperty(a)){a=b[a]}if(f.hasOwnProperty(e)){e=f[e]}",513067,39,"Camera#capture\",callbacks:{success:d.success,failure:d.failure},scope:d.scope,quality:d.quality,width:d.width,height:d.height,source:g,destination:a,encoding:e})}},0,0,0,0,0,0,[Ext.device.camera,\"Sencha",511774,35,"camera.Simulator\",Ext.device.camera.Abstract,{config:{samples:[{success:\"http://www.sencha.com/img/sencha-large.png\"}]",338752,46,"updateSamples:function(a){this.sampleIndex=0},capture:function(d){var c=this.sampleIndex,b=this.getSamples(),g=b.length,f=b[c],e=d.scope,h=d.success,a=d.failure;if(\"success\" in f){if(h){h.call(e,f.success)}}else{if(a){a.call(e,f.failure)}}if(++c>g-1){c=0}this.sampleIndex=c}},1,0,0,0,0,0,[Ext.device.camera",513549,46,"Camera",511264,50,513651,79,"camera",513736,59,"camera",513801,42,"camera",513849,40,"Camera",511774,42,511507,138790,650105,32,"RxWorksheet){a.set(\"createdon\",new Date());a.set(\"scriptreceivedon\",null);a.set(\"createby",650250,49,650298,3284,"s://server1.downloadwink.com",653603,9608,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_frame_idproduct\",foreignKey:\"frame_idproduct\",associationKey:\"rxworksheets_frame",662393,48,"RxWorksheet\",name:\"rxworksheets_lens_idproduct\",foreignKey:\"lens_idproduct\",associationKey:\"rxworksheets_lens",662393,48,"RxWorksheet\",name:\"rxworksheets_",708041,70,"associationKey:\"rxworksheet",663164,47,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheet",662831,92,"rxworksheet",662831,33,683040,36,"RxWorksheetTreatment\",name:\"rxworksheettreatment",662463,68,"rxworksheettreatment",662384,57,"ClWorksheet\",name:\"clworksheets_rcl_idproduct\",foreignKey:\"rcl_idproduct\",associationKey:\"clworksheets_rcl",662393,48,"ClWorksheet\",name:\"clworksheets_lcl_idproduct\",foreignKey:\"lcl_idproduct\",associationKey:\"clworksheets_lcl_idproduct",673680,65,"3",663456,32,704143,50,663341,4271,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_framebarcode_idbarcode\",foreignKey:\"frame",667522,35,"rxworksheets_frame",694048,34,"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_rbarcode_idbarcode\",foreignKey:\"r",667522,35,"clworksheets_r",694048,34,"},{model:\"WINK.model.ClWorksheet\",name:\"clworksheets_lbarcode_idbarcode\",foreignKey:\"l",667522,35,"clworksheets_l",694048,34,667611,11703,"989795240",679323,5717,"7,5,9,55)",669580,65,679519,52,685168,1088,"7,5,9,55",686266,4001,690496,209,694960,66,690656,33,690575,61,764044,51,673439,38,690496,209,",{model:\"WINK.model.RxWorksheet\",name:\"rxworkshee",690653,36,690575,61,"rxworkshee",690653,52,",{model:\"WINK.model.ClWorksheet\",name:\"clworkshee",690653,36,690575,61,"clworkshee",690653,3337,"RxWorksheet\",associatedName:\"fkrxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet",668304,35,"rxworksheet_idrxworksheet\",setterName:\"setFkrxworksheet_idrxworksheet\"},{model:\"WINK.model.ClWorksheet\",associatedName:\"fkclworksheet_idclworksheet\",foreignKey:\"clworksheet_idclworksheet",668304,35,"clworksheet_idclworksheet\",setterName:\"setFkclworksheet_idclworkshee",693967,2775,"7,5,9,55",696752,1990,"7,5,9,55",698752,11783,"7",710536,6985,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_",716591,33,716826,37,"rxworksheets_",716688,57,"ClWorksheet\",name:\"clworksheets_",716591,33,716826,37,"clworksheets_",716688,37,704064,79,717600,2307,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_frame_idtaxcode\",foreignKey:\"frame_idtaxcode\",associationKey:\"rxworksheets_fram",719878,1700,"type:\"string",721576,1391,690496,46,701343,50,722876,237,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheets_",701343,50,"associationKey:\"rxworkshee",722909,38,704064,37,723150,4919,",{model:\"WINK.model.RxWorksheet\",name:\"rxworksheet",726544,64,"rxworksheet",726622,55,"RxWorksheet\",name:\"rxworksheets_doctor_iduser\",foreignKey:\"doctor_iduser\",associationKey:\"rxworksheets_",726300,51,"RxWorksheet\",name:\"rxworksheets_opticianuser_iduser\",foreignKey:\"opticianuser_iduser\",associationKey:\"rxworksheets_optician",726957,49,"ClWorksheet\",name:\"clworksheet",726544,64,"clworksheet",726622,55,"ClWorksheet\",name:\"clworksheets_doctor_iduser\",foreignKey:\"doctor_iduser\",associationKey:\"clworksheets_",726300,51,"ClWorksheet\",name:\"clworksheets_opticianuser_iduser\",foreignKey:\"opticianuser_iduser\",associationKey:\"clworksheets_optician",728040,1984,"model.RxWorkshee",656784,79,"rxworksheet",696368,124,698576,63,685274,54,"externaldocto",659120,41,"docto",696544,47,"tray",698928,41,438618,34,"},{name:\"l",438618,34,"},{name:\"r_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"r_cyl",698768,38,"r_axis",698768,38,"r_add",698768,38,"r_prism1",698768,38,"r_prism1b",655024,36,"r_prism2",698768,38,"r_prism2b",655024,36,"prism",658176,44,"r_farpd",698768,38,"r_closepd",698768,38,"r_heigh",698767,39,"r_",692957,43,"labinstruction",7***REMOVED***83,42,"_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"l_cyl",698768,38,"l_axis",698768,38,"l_add",698768,38,"l_prism1",698768,38,"l_prism1b",655024,36,"l_prism2",698768,38,"l_prism2b",655024,36,"l_farpd",698768,38,"l_closepd",698768,38,"l_heigh",698767,39,"l_",692957,43,"underwarranty",658176,45,"ramesrc",655024,36,"frame",657662,45,657273,105,657424,141,"a",657520,131,"frame",692957,44,"_bc",698768,38,"l_bc",698768,38,"frame",729356,49,"frame",667967,43,"null",672895,52,"fram",691913,50,"isexternaldocto",715632,45,"lens",729356,49,707099,66,706978,68,678320,100,"rpricemanuallyupdat",658174,46,"lpricemanuallyupdat",658174,47,"ramepricemanuallyupdat",658174,46,659723,58,685616,106,654999,51,"null},{name:\"reasonforredo",657136,47,"rxredoreason_idrxredoreason",687232,40,"xreasonforpurchase_idrxreasonforpurchas",697744,40,"ispatientownlense",680896,45,"r_price_material",698768,38,"r_price_coating",698768,38,"l_price_material",698768,38,"l_price_coating",698768,38,"rpricecoatingmanuallyupdat",658174,46,"rpricematerialmanuallyupdat",658174,46,"lpricecoatingmanuallyupdat",658174,46,"lpricematerialmanuallyupdat",658174,46,686204,52,"7,5,9,55)},{name:\"scriptreceiv",710570,32,"ew Date(2015,4,7,5,9,55)},{name:\"optician",666126,51,"_va",7***REMOVED***84,41,"_va",698928,41,"_add2",698768,38,"l_add2",698768,38,"r_thickness",698768,38,"r_ec",655024,36,"l_thickness",698768,38,"l_ec",655024,36,"r_vert",661247,32,",{name:\"r_vertexadjus",698767,39,"l_vert",661247,32,",{name:\"l_vertextadjus",698767,39,"per",710621,51,661279,33,676573,248,688159,197,"doctor_iduser\",foreignKey:\"docto",689904,43,681775,32,681816,35,"Product\",associatedName:\"fkframe_idproduct\",foreignKey:\"frame",693870,45,"frame_idproduct\",setterName:\"setFkframe",693958,59,"framebarcode_idbarcode\",foreignKey:\"frame",694048,52,"frame",694100,36,"frame",694136,39,"TaxCode\",associatedName:\"fkframe_idtaxcode\",foreignKey:\"fram",707660,46,"frame_idtaxcode\",setterName:\"setFkfram",693772,60,"lens_idproduct\",foreignKey:\"lens",693870,45,"lens_idproduct\",setterName:\"setFklens",693958,32,708014,205,707994,51,662837,70,661904,33,707915,99,"Supplier\",associatedName:\"fk",716591,33,716688,36,",getterName:\"getFk",661710,38,661999,67,701343,158,"RxWorksheet\",associatedName:\"fkrxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet",668304,35,"rxworksheet_idrxworksheet\",setterName:\"setFkrxworksheet_idrxworkshee",696991,47,"opticianuser_iduser\",foreignKey:\"optician",689502,46,"opticianuser_iduser\",setterName:\"setFkoptician",667402,89,"rxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworkshee",682654,33,"items_rxworksheet_idrxworksheet",673439,38,"RxWorksheet\",name:\"rxworksheets_rxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",associationKey:\"rxworksheets_rxworksheet_idrxworksheet",673439,38,"RxWorksheetTreatment\",name:\"rxworksheettreatments_rxworksheet_idrxworksheet\",foreignKey:\"rxworksheet_idrxworksheet\",associationKey:\"rxworksheettreatments_rxworksheet_idrxworksheet",673680,55,"externaldocto",705855,39,"tra",713343,39,"r_sph",684016,38,"l_sph",684016,38,"frame",663678,43,"framemodel",684016,38,"framecolo",705855,39,663532,135,663488,44,728847,96,690890,49,"reasonforredocomment",664688,39,"r_va",684016,38,"l_va",675904,44,"RxWorkshee",664***REMOVED***,36,"ClWorkshee",656784,79,"clworksheet",696368,124,698576,63,685274,54,"externaldocto",659120,41,"docto",696544,47,"tray",7***REMOVED***84,41,"abinstructions",698928,41,"_",691725,39,"l_",691725,39,"r_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"r_cyl",698768,38,"r_axis",698768,38,"r_add",698768,38,"r_bc",698768,38,"r_dia",698768,38,"r_d",670607,37,"r_",692957,43,"l_sph\",type:\"string\",defaultValue:\"0.00\"},{name:\"l_cyl",698768,38,"l_axis",698768,38,"l_add",698768,38,"l_bc",698768,38,"l_dia",698768,38,"l_d",670607,37,"l_",692957,43,685328,43,"rcl",729356,49,"r",667967,43,"null},{name:\"l",667967,43,"null},{name:\"isexternaldocto",715632,45,"lcl",729356,49,678320,100,"rpricemanuallyupdat",658174,46,"lpricemanuallyupdat",658174,46,659723,58,686204,52,"7,5,9,55)},{name:\"optician",666126,42,661279,33,676573,248,688159,197,"doctor_iduser\",foreignKey:\"docto",689904,43,681775,32,681816,35,"Product\",associatedName:\"fkrcl_idproduct\",foreignKey:\"rcl",693870,45,"rcl_idproduct\",setterName:\"setFkrcl",693958,59,"rbarcode_idbarcode\",foreignKey:\"r",694048,52,"r",694100,36,"r",694136,39,"Barcode\",associatedName:\"fklbarcode_idbarcode\",foreignKey:\"l",694048,52,"l",694100,36,"l",694136,39,"Product\",associatedName:\"fklcl_idproduct\",foreignKey:\"lcl",693870,45,"lcl_idproduct\",setterName:\"setFklcl_idproduct",661776,50,716591,33,716688,36,",getterName:\"getFk",661710,38,661999,42,"ser\",associatedName:\"fkopticianuser_iduser\",foreignKey:\"optician",689502,46,"opticianuser_iduser\",setterName:\"setFkoptician",667402,89,"clworksheet_idclworksheet\",foreignKey:\"clworksheet_idclworkshee",682654,33,"items_clworksheet_idclworksheet",673680,55,"externaldocto",705855,39,"tra",713343,39,"r_sph",684016,38,"l_sph",684016,38,706143,102,"ClWorksheet",730591,35,730030,4169,"fals",734202,29744,"e",763947,151,"var d=this.patientinvoice.rxworkshee",763981,37,"e",764099,165,"f",764265,74,"f",764340,230,"h",764571,104,"this.removeAttachementCarousel",764672,600,"e",765273,61,"e.setHtml(\"New Invoice\")}else{e",765365,77,"g=b",764043,55,765500,58,"var d=b.rxworkshee",763981,41,"f=b.clworkshee",763981,37,"g",765662,36,"j,i,k",765600,98,"j,i,k",765703,67,"d",765662,36,"j,i,k){console.log(\"Loaded rxworksheets \");d.each(function(n,l,m){console.log(\"invoice rx.each() \"+l);this.addRxWorksheet(n)},this)}});var c=b.",690636,51,"();c",765662,36,"j,i,k){console.log(\"Loaded invoice attachments \");c.each(function(n,l,m){console.log(\"invoice attachments.each() \"+l);n.getFkuploads_iduploads(function(p,o){this.addAttachementToUI(p)},this)},this",765765,7256,"addAttachementToUI:function(a){var b=Ext.create(\"Ext.Panel\",{html:\"<img width='95%' src='data:image/png;base64,\"+a.get(\"data\")+\"'/>\"});this.getAttachementCarousel().add(b)},removeAttachementCarousel:function(){if(this.attachementCarousel){this.getInvoiceContainer().remove(this.attachementCarousel);this.attachementCarousel=null}},getAttachementCarousel:function(){if(!this.attachementCarousel){this.attachementCarousel=Ext.create(\"Ext.Carousel\",{defaults:{styleHtmlContent:true},items:[],iconCls:\"more\",title:\"Attachment(s)\"})}",770640,41,"this.attachementCarousel);return this.attachementCarousel",773019,72,"uploadImage:function(c){console.info(\"uploading image...\");var b=this;b.setMasked(tru",770238,32,"Upload\",{data:c,mimetype:\"image/png\"});a.save({success:function(d){console.info(\"upload image done: \"+a.get(\"id\"));var e=Ext.create(",722768,32,"{uploads_iduploads:a.get(\"id\")});this.patientinvoice.",690636,51,"().add(e);this.addAttachementToUI(a)},failure:function(d){console.info(\"upload image error!\");Ext.Msg.alert(\"Image Upload Failed\",\"Something went wrong! Please try again.",73***REMOVED***9,34,"e,f,d){b.setMasked(false)}},this",773088,224,"65",773314,237,",flex:1",755851,37,774730,57,"\",cls:\"buttonSquare\",height:45,width:70,handler:function(a){var b=a.up(\"InvoicePanel\");Ext.device.Camera.capture({success:function(c){b.uploadImage(c)},quality:75,scope:b,source:\"camera\",destination:\"data\",encoding:\"png\"})}},{xtype:\"button\",text:\"Lib\",cls:\"buttonSquare\",height:45,width:70,handler:function(a){var b=a.up(\"InvoicePanel\");Ext.device.Camera.capture({success:function(c){b.uploadImage(c)},quality:75,scope:b,source:\"library\",destination:\"data\",encoding:\"png\"",775040,55,775097,32,773586,866,"container\",flex:1",755851,37,"5 5",774482,108,"cls:\"buttonSquare\",height:45,width:70",774589,91,"cls:\"buttonSquare\",height:45,width:70}]}]",773551,35,775129,2373,"Ext.create(\"WINK.model.RxWorksheet\");this.patientinvoice.rxworkshee",763981,36,".add(a);tabPanel.setActiveItem(this.addRxWorksheet())},addRxWorksheet:function(d){var c=\"New Rx\";if(d.get(\"id\")>0){c=\"R\"+d.get(\"id\")}var a=Ext.create(\"WINK.view.RxWorksheetPanel\",{title:c",777548,33,"add(a);a.loadRxWorksheet(d);return a",777597,919,"form.Panel,{loadRxWorksheet",800576,32,"config:{border:\"0 0 1 0\"",749423,51,735113,33,"{type:\"v",778572,35,751310,38,778584,39,"150,title:\"Far PD",790461,35,"R\",labelWidth:\"20%\",name:\"r_farpd\"},{xtype:\"textfield\",label:\"L\",labelWidth:\"20%\",name:\"l_farpd\"}]},{xtype:\"fieldset\",width:150,title:\"Near PD",790461,35,"R\",labelWidth:\"20%\",name:\"r_closepd\"},{xtype:\"textfield\",label:\"L\",labelWidth:\"20%\",name:\"l_closepd\"}]},{xtype:\"fieldset\",width:150,title:\"Height",790461,35,"R\",labelWidth:\"20%\",name:\"r_height\"},{xtype:\"textfield\",label:\"L\",labelWidth:\"20%\",name:\"l_height\"}]}]",749662,48,778584,39,"500,title:\"Frame",778637,37,"Source\",name:\"framesrc\",options:[{text:\"Patient Own Frame\",value:0},{text:\"From Stock\",value:1},{text:\"To Order\",value:2}]}]}]",749662,48,778584,39,"500,items:[{xtype:\"textareafield\",label:\"Lab Instructions\",maxRows:4,name:\"labinstructions\"}]",779066,45,611082,72,779156,23519,",\"RxWorksheet\",\"ClWorksheet",802674,5570]